import{Q as q}from"./QImg.dc5a658f.js";import{k as R,av as P,aw as Q,c as x,h as f,a4 as D,$ as H,aG as N,aH as j,aI as F,l as M,r as m,o as L,ab as _,ap as b,ai as r,f as i,F as U,aq as V,aE as k,ao as $,aJ as W,aK as z,ac as O,ad as E,aA as S}from"./index.5d248d30.js";import{Q as G,_ as J}from"./FooterComponent.0e0935c2.js";import{u as K}from"./use-meta.f324d6de.js";import{a as T,d as B,b as C,_ as A}from"./firebase.41b2c8f8.js";var y=R({name:"QBreadcrumbsEl",props:{...P,label:String,icon:String,tag:{type:String,default:"span"}},emits:["click"],setup(a,{slots:c}){const{linkTag:o,linkAttrs:p,linkClass:v,navigateOnClick:n}=Q(),e=x(()=>({class:"q-breadcrumbs__el q-link flex inline items-center relative-position "+(a.disable!==!0?"q-link--focusable"+v.value:"q-breadcrumbs__el--disable"),...p.value,onClick:n})),t=x(()=>"q-breadcrumbs__el-icon"+(a.label!==void 0?" q-breadcrumbs__el-icon--with-label":""));return()=>{const l=[];return a.icon!==void 0&&l.push(f(D,{class:t.value,name:a.icon})),a.label!==void 0&&l.push(a.label),f(o.value,{...e.value},H(c.default,l))}}});const Y=["",!0];var X=R({name:"QBreadcrumbs",props:{...N,separator:{type:String,default:"/"},separatorColor:String,activeColor:{type:String,default:"primary"},gutter:{type:String,validator:a=>["none","xs","sm","md","lg","xl"].includes(a),default:"sm"}},setup(a,{slots:c}){const o=j(a),p=x(()=>`flex items-center ${o.value}${a.gutter==="none"?"":` q-gutter-${a.gutter}`}`),v=x(()=>a.separatorColor?` text-${a.separatorColor}`:""),n=x(()=>` text-${a.activeColor}`);return()=>{const e=F(M(c.default));if(e.length===0)return;let t=1;const l=[],g=e.filter(s=>s.type!==void 0&&s.type.name==="QBreadcrumbsEl").length,u=c.separator!==void 0?c.separator:()=>a.separator;return e.forEach(s=>{if(s.type!==void 0&&s.type.name==="QBreadcrumbsEl"){const d=t<g,w=s.props!==null&&Y.includes(s.props.disable),h=(d===!0?"":" q-breadcrumbs--last")+(w!==!0&&d===!0?n.value:"");t++,l.push(f("div",{class:`flex items-center${h}`},[s])),d===!0&&l.push(f("div",{class:"q-breadcrumbs__separator"+v.value},u()))}else l.push(s)}),f("div",{class:"q-breadcrumbs"},[f("div",{class:p.value},l)])}}});const Z={key:0,class:"mx-auto max-w-full p-5"},ee={class:"grid grid-cols-1 gap-4"},te=r("p",{class:"text-lg font-bold font-sans"},"Confira o post mais recente.",-1),ae={class:"relative pb-1/1 min-h-[300px]"},se=["src","alt"],oe={key:1,controls:"",class:"absolute object-cover w-full h-full min-h-[300px] rounded-lg"},le=["src","type"],re={class:"mt-2 text-sm text-gray-600"},ne={__name:"InstagramFeed",props:{id:String},setup(a){const c=m([]),o=m([]);L(async()=>{try{const n=T(B,"configuration","instagramToken"),e=await C(n);if(e.exists()){const l=e.data().token,u=await fetch(`https://graph.instagram.com/me/media?fields=id,caption,media_url&access_token=${l}&limit=${1}`);if(!u.ok){console.error(`Erro na API: ${u.status} ${u.statusText}`);const h=await u.json();console.error(h);return}const s=await u.json();o.value=s.data;const d=o.value.map(async h=>{const I=await p(h.media_url);return{...h,type:I}}),w=await Promise.all(d);c.value=w}else console.error("Documento do token n\xE3o encontrado.")}catch(n){console.error("Erro ao carregar o feed do Instagram ou ao acessar o Firestore:",n)}});async function p(n){return(await fetch(n,{method:"HEAD"})).headers.get("Content-Type")}function v(){const n="https://www.instagram.com/essencia.bahiana";window.open(n,"_blank")}return(n,e)=>c.value.length>0?(_(),b("div",Z,[r("div",ee,[te,i(q,{class:"cursor-pointer",src:"/insta-logo-text.png",alt:"Logo instagram com texto.",onClick:v}),(_(!0),b(U,null,V(c.value,t=>(_(),b("div",{class:"instagram-post flex flex-col h-auto",key:t.id},[r("div",ae,[t.type&&t.type.startsWith("image")?(_(),b("img",{key:0,src:t.media_url,alt:t.caption,class:"absolute object-cover w-full min-h-[200px] h-full rounded-lg"},null,8,se)):k("",!0),t.type&&t.type.startsWith("video")?(_(),b("video",oe,[r("source",{src:t.media_url,type:t.type},null,8,le)])):k("",!0)]),r("p",re,$(t.caption),1)]))),128))])])):k("",!0)}},ie={class:"max-w-[1000px] min-h-[400px] mx-auto mt-28 md:mt-44"},ce={class:"w-full"},ue={class:"py-8 px-6 md:px-0 flex flex-col"},de={class:"text-2xl md:text-5xl font-sans font-bold mb-6"},me={class:"text-2xl"},pe=r("p",{class:"ml-auto text-kg text-accent"},"Por Ess\xEAncia Bahiana",-1),ve={class:"max-w-[1000px] mx-auto flex flex-col md:flex-row mb-6"},ge=["innerHTML"],he={class:"w-full md:w-4/12"},we={__name:"BlogPage",setup(a){const c=W(),o=m(null),p=m("Ess\xEAncia"),v=m("Bahiana"),n=m(`\xA9 ${new Date().getFullYear()} Essencia Bahiana. Todos os direitos reservados.`),e=m({}),t=m("Page"),l=m("Ess\xEAncia Bahiana Site"),g=m(""),u=m("hero.jpg");return K(()=>({title:t.value,titleTemplate:s=>`Ess\xEAncia BAHIANA | Blog | ${s}`,meta:{description:{name:"description",content:l.value},equiv:{"http-equiv":"Content-Type",content:"text/html; charset=UTF-8"},keywords:{name:"keywords",content:g.value},ogTitle:{property:"og:title",template(){return`Ess\xEAncia BAHIANA | ${t.value}`}},ogDescription:{property:"og:description",template(){return l.value}},ogImage:{property:"og:image",template(){return`https://essenciabahiana.com.br/${u.value}`}},twitterTitle:{property:"twitter:title",template(){return`Ess\xEAncia BAHIANA | ${t.value}`}},twitterDescription:{property:"twitter:description",template(){return l.value}},twitterImage:{property:"twitter:image",template(){return`https://essenciabahiana.com.br/${u.value}`}}}})),z(async()=>{console.log("server in");const{id:s}=c.params;try{const d=T(B,"blog",s);o.value=await C(d),o.value.exists()&&(e.value={id:o.value.id,...o.value.data()},t.value=e.value.title,l.value=e.value.description,g.value=e.value.keywords,u.value=e.value.imageURL)}catch(d){console.error("Erro durante a execu\xE7\xE3o de serverPrefetch:",d)}console.log("server out")}),L(async()=>{if(console.log("client"),console.log(o.value),!o.value){const{id:s}=c.params,d=T(B,"blog",s);o.value=await C(d),o.value.exists()&&(e.value={id:o.value.id,...o.value.data()},t.value=e.value.title,l.value=e.value.description,g.value=e.value.keywords,u.value=e.value.imageURL)}}),(s,d)=>(_(),O(G,{class:""},{default:E(()=>[r("header",ie,[r("figure",null,[r("div",ce,[i(q,{class:"w-full max-h-[500px] object-cover",src:`/${e.value.imageURL}`,alt:e.value.title},null,8,["src","alt"])]),r("figcaption",ue,[r("h1",de,$(e.value.title),1),r("p",me,$(e.value.excerpt),1),pe]),i(S,{class:"max-w-[1000px] mx-auto mb-6"}),i(X,null,{default:E(()=>[i(y,{label:"Home",to:"/"}),i(y,{label:"Blog",to:"/blog"}),i(y,{label:"O que fazer"}),i(y,{label:e.value.title},null,8,["label"])]),_:1})])]),i(A,{dataAdSlot:"banner"}),i(S,{class:"max-w-[1000px] mx-auto mb-6"}),r("main",ve,[r("section",{innerHTML:e.value.content,class:"blog-content w-full md:w-8/12 px-6"},null,8,ge),r("aside",he,[i(ne,{id:e.value.id},null,8,["id"]),i(A,{dataAdSlot:"side"})])]),i(J,{firstTitle:p.value,secondTitle:v.value,copyRight:n.value},null,8,["firstTitle","secondTitle","copyRight"])]),_:1}))}};export{we as default};
