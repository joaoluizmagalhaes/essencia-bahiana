"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var c=require("vue"),pe=require("quasar"),p=require("vue/server-renderer"),Yn=require("quasar/wrappers"),Ic=require("pinia"),ct=require("vue-router");require("@emailjs/browser");var Rc=require("firebase/app");require("firebase/analytics");var Cc=require("firebase/auth"),jr=require("firebase/firestore"),Sc=require("firebase/functions"),bc=require("vue-i18n"),Pc=require("axios");function Vc(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var ra=Vc(Pc);var sa=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n};const vs=c.defineComponent({name:"App"});function Nc(t,e,n,r,s,i,o,a){const l=c.resolveComponent("router-view");e(p.ssrRenderComponent(l,r,null,n))}const bi=vs.setup;vs.setup=(t,e)=>{const n=c.useSSRContext();return(n.modules||(n.modules=new Set)).add("src/App.vue"),bi?bi(t,e):void 0};var Dc=sa(vs,[["ssrRender",Nc]]),xr=Yn.store(()=>Ic.createPinia());const kc=[{path:"/",component:()=>Promise.resolve().then(function(){return zc}),children:[{path:"",component:()=>Promise.resolve().then(function(){return Hc})},{path:"/politicas-de-privacidade",component:()=>Promise.resolve().then(function(){return Gc})},{path:"/blog",component:()=>Promise.resolve().then(function(){return Wf})},{path:"/blog/:categor/:id",component:()=>Promise.resolve().then(function(){return Yf})}]},{path:"/:catchAll(.*)*",component:()=>Promise.resolve().then(function(){return Zf})}];var Ir=Yn.route(function(){const t=ct.createMemoryHistory;return ct.createRouter({scrollBehavior:()=>({left:0,top:0}),routes:kc,history:t("/")})});const Mc=c.defineComponent({name:"AppWrapper",setup(t){return c.onMounted(()=>{const{proxy:{$q:e}}=c.getCurrentInstance();e.onSSRHydrated!==void 0&&e.onSSRHydrated()}),()=>c.h(Dc,t)}});async function Oc(t,e,n){const r=t(Mc);r.use(pe.Quasar,e,n);const s=typeof xr=="function"?await xr({ssrContext:n}):xr;r.use(s),typeof window<"u"&&window.__INITIAL_STATE__!==void 0&&(s.state.value=window.__INITIAL_STATE__,delete window.__INITIAL_STATE__);const i=c.markRaw(typeof Ir=="function"?await Ir({ssrContext:n,store:s}):Ir);return s.use(({store:o})=>{o.router=i}),{app:r,store:s,router:i}}var Lc={config:{},plugins:{Notify:pe.Notify,Loading:pe.Loading,Dialog:pe.Dialog,Screen:pe.Screen,Meta:pe.Meta}};const qc="/",Fc=/^https?:\/\//;function Bc(t,e){if(typeof t=="string"&&Fc.test(t)===!0)return t;try{return e.resolve(t).href}catch{}return t}const{components:op,directives:ap,...$c}=Lc,Uc=Promise.all([Promise.resolve().then(function(){return rp}),Promise.resolve().then(function(){return ip})]).then(t=>t.map(e=>e.default).filter(e=>typeof e=="function"));var jc=t=>new Promise(async(e,n)=>{const r=await Uc,{app:s,router:i,store:o}=await Oc(c.createApp,$c,t);let a=!1;const l=(d,m)=>{a=!0,n({url:Bc(d,i),code:m})};for(let d=0;a===!1&&d<r.length;d++)try{await r[d]({app:s,router:i,store:o,ssrContext:t,redirect:l,urlPath:t.req.url,publicPath:qc})}catch(m){n(m);return}if(a===!0)return;s.use(i);const u=t.req.url,{fullPath:h}=i.resolve(u);if(h!==u)return n({url:h});i.push(u).catch(()=>{}),i.isReady().then(()=>{if(i.currentRoute.value.matched.filter(m=>m.components!==void 0).flatMap(m=>Object.values(m.components)).length===0)return n({code:404});t.state=c.unref(o.state),e(s)}).catch(n)});const Ne={__name:"HeaderMenu",__ssrInlineRender:!0,setup(t){const{getScrollTarget:e,setVerticalScrollPosition:n}=pe.scroll,r=c.computed(()=>s.screen.lt.md),s=pe.useQuasar(),i=ct.useRouter(),o=c.ref("");function a(u,h=""){i.push(`/${u}`).then(()=>{h&&c.nextTick(()=>{const d=document.getElementById(h);d&&l(d)})})}function l(u){const h=e(u),d=u.offsetTop-90;n(h,d,1e3)}return(u,h,d,m)=>{const f=c.resolveComponent("q-tabs"),y=c.resolveComponent("q-tab");h(p.ssrRenderComponent(f,c.mergeProps({modelValue:o.value,"onUpdate:modelValue":T=>o.value=T,vertical:!!r.value,class:"text-primary"},m),{default:c.withCtx((T,E,D,S)=>{if(E)E(p.ssrRenderComponent(y,{name:"blog",label:"Blog",onClick:z=>a("blog")},null,D,S)),E(p.ssrRenderComponent(y,{name:"contato",label:"Contato",onClick:z=>a("","contact")},null,D,S));else return[c.createVNode(y,{name:"blog",label:"Blog",onClick:z=>a("blog")},null,8,["onClick"]),c.createVNode(y,{name:"contato",label:"Contato",onClick:z=>a("","contact")},null,8,["onClick"])]}),_:1},d))}}},Pi=Ne.setup;Ne.setup=(t,e)=>{const n=c.useSSRContext();return(n.modules||(n.modules=new Set)).add("src/components/HeaderMenu.vue"),Pi?Pi(t,e):void 0};const Es={__name:"MainLayout",__ssrInlineRender:!0,setup(t){const e=c.ref(!1),n=c.ref(!1);c.ref(null);const r=ct.useRouter();c.onMounted(()=>{window.addEventListener("scroll",o)}),c.onUnmounted(()=>{window.removeEventListener("scroll",o)});function s(){e.value=!e.value}function i(a){r.push(`/${a}`)}const o=()=>{window.scrollY>20?n.value=!0:n.value=!1};return(a,l,u,h)=>{const d=c.resolveComponent("q-layout"),m=c.resolveComponent("q-toolbar"),f=c.resolveComponent("q-avatar"),y=c.resolveComponent("q-img"),T=c.resolveComponent("q-space"),E=c.resolveComponent("q-btn"),D=c.resolveComponent("q-drawer"),S=c.resolveComponent("q-page-container"),z=c.resolveComponent("router-view");l(p.ssrRenderComponent(d,c.mergeProps({view:"lHh Lpr lFf"},h),{default:c.withCtx((H,le,te,Ve)=>{if(le)le(p.ssrRenderComponent(m,{class:["h-20 md:h-36 fixed w-full z-50 top-0 p-7 bg-transparent font-sans font-bold ease-in-out duration-500",{"!bg-white md:!h-24 drop-shadow-md":n.value}]},{default:c.withCtx((ve,G,fe,ce)=>{if(G)G(p.ssrRenderComponent(f,{class:["w-16 h-16 md:w-32 md:h-32 ease-in-out duration-500",{"md:!w-20 md:!h-20":n.value}],onClick:It=>i("")},{default:c.withCtx((It,Rt,Tr,Ar)=>{if(Rt)Rt(p.ssrRenderComponent(y,{src:"/logo.svg",alt:"Logo - Ess\xEAncia Bahiana"},null,Tr,Ar));else return[c.createVNode(y,{src:"/logo.svg",alt:"Logo - Ess\xEAncia Bahiana"})]}),_:1},fe,ce)),G(`<h3 class="ml-4 md:ml-6 font-sans font-bold text-lg md:text-2xl text-primary"${ce}>Ess\xEAncia <span class="uppercase text-2xl md:text-3xl"${ce}>Bahiana</span></h3>`),G(p.ssrRenderComponent(T,null,null,fe,ce)),G(p.ssrRenderComponent(Ne,{class:"hidden lg:!flex"},null,fe,ce)),G(p.ssrRenderComponent(E,{flat:"",onClick:s,round:"",dense:"",icon:"menu",color:"primary",class:"lg:hidden"},null,fe,ce));else return[c.createVNode(f,{class:["w-16 h-16 md:w-32 md:h-32 ease-in-out duration-500",{"md:!w-20 md:!h-20":n.value}],onClick:It=>i("")},{default:c.withCtx(()=>[c.createVNode(y,{src:"/logo.svg",alt:"Logo - Ess\xEAncia Bahiana"})]),_:1},8,["class","onClick"]),c.createVNode("h3",{onClick:It=>i(""),class:"ml-4 md:ml-6 font-sans font-bold text-lg md:text-2xl text-primary"},[c.createTextVNode("Ess\xEAncia "),c.createVNode("span",{class:"uppercase text-2xl md:text-3xl",onClick:It=>i("")},"Bahiana",8,["onClick"])],8,["onClick"]),c.createVNode(T),c.createVNode(Ne,{class:"hidden lg:!flex"}),c.createVNode(E,{flat:"",onClick:s,round:"",dense:"",icon:"menu",color:"primary",class:"lg:hidden"})]}),_:1},te,Ve)),le(p.ssrRenderComponent(D,{modelValue:e.value,"onUpdate:modelValue":ve=>e.value=ve,overlay:"",side:"right",bordered:"",class:"q-py-lg flex flex-col"},{default:c.withCtx((ve,G,fe,ce)=>{if(G)G(`<div class="mx-auto mb-5 w-full flex justify-evenly items-center"${ce}>`),G(p.ssrRenderComponent(f,{class:"w-16 h-16 md:w-32 md:h-32"},{default:c.withCtx((It,Rt,Tr,Ar)=>{if(Rt)Rt(p.ssrRenderComponent(y,{src:"/logo.svg",alt:"Logo - Ess\xEAncia Bahiana"},null,Tr,Ar));else return[c.createVNode(y,{src:"/logo.svg",alt:"Logo - Ess\xEAncia Bahiana"})]}),_:1},fe,ce)),G(`<div class="text-lg text-primary font-bold font-sans"${ce}>Ess\xEAncia <span class="uppercase text-xl"${ce}>Bahiana</span></div></div><div${ce}>`),G(p.ssrRenderComponent(Ne,null,null,fe,ce)),G("</div>");else return[c.createVNode("div",{class:"mx-auto mb-5 w-full flex justify-evenly items-center"},[c.createVNode(f,{class:"w-16 h-16 md:w-32 md:h-32"},{default:c.withCtx(()=>[c.createVNode(y,{src:"/logo.svg",alt:"Logo - Ess\xEAncia Bahiana"})]),_:1}),c.createVNode("div",{class:"text-lg text-primary font-bold font-sans"},[c.createTextVNode("Ess\xEAncia "),c.createVNode("span",{class:"uppercase text-xl"},"Bahiana")])]),c.createVNode("div",null,[c.createVNode(Ne)])]}),_:1},te,Ve)),le(p.ssrRenderComponent(S,null,{default:c.withCtx((ve,G,fe,ce)=>{if(G)G(p.ssrRenderComponent(z,null,null,fe,ce));else return[c.createVNode(z)]}),_:1},te,Ve));else return[c.createVNode(m,{class:["h-20 md:h-36 fixed w-full z-50 top-0 p-7 bg-transparent font-sans font-bold ease-in-out duration-500",{"!bg-white md:!h-24 drop-shadow-md":n.value}]},{default:c.withCtx(()=>[c.createVNode(f,{class:["w-16 h-16 md:w-32 md:h-32 ease-in-out duration-500",{"md:!w-20 md:!h-20":n.value}],onClick:ve=>i("")},{default:c.withCtx(()=>[c.createVNode(y,{src:"/logo.svg",alt:"Logo - Ess\xEAncia Bahiana"})]),_:1},8,["class","onClick"]),c.createVNode("h3",{onClick:ve=>i(""),class:"ml-4 md:ml-6 font-sans font-bold text-lg md:text-2xl text-primary"},[c.createTextVNode("Ess\xEAncia "),c.createVNode("span",{class:"uppercase text-2xl md:text-3xl",onClick:ve=>i("")},"Bahiana",8,["onClick"])],8,["onClick"]),c.createVNode(T),c.createVNode(Ne,{class:"hidden lg:!flex"}),c.createVNode(E,{flat:"",onClick:s,round:"",dense:"",icon:"menu",color:"primary",class:"lg:hidden"})]),_:1},8,["class"]),c.createVNode(D,{modelValue:e.value,"onUpdate:modelValue":ve=>e.value=ve,overlay:"",side:"right",bordered:"",class:"q-py-lg flex flex-col"},{default:c.withCtx(()=>[c.createVNode("div",{class:"mx-auto mb-5 w-full flex justify-evenly items-center"},[c.createVNode(f,{class:"w-16 h-16 md:w-32 md:h-32"},{default:c.withCtx(()=>[c.createVNode(y,{src:"/logo.svg",alt:"Logo - Ess\xEAncia Bahiana"})]),_:1}),c.createVNode("div",{class:"text-lg text-primary font-bold font-sans"},[c.createTextVNode("Ess\xEAncia "),c.createVNode("span",{class:"uppercase text-xl"},"Bahiana")])]),c.createVNode("div",null,[c.createVNode(Ne)])]),_:1},8,["modelValue","onUpdate:modelValue"]),c.createVNode(S,null,{default:c.withCtx(()=>[c.createVNode(z)]),_:1})]}),_:1},u))}}},Vi=Es.setup;Es.setup=(t,e)=>{const n=c.useSSRContext();return(n.modules||(n.modules=new Set)).add("src/layouts/MainLayout.vue"),Vi?Vi(t,e):void 0};var zc=Object.freeze(Object.defineProperty({__proto__:null,default:Es},Symbol.toStringTag,{value:"Module"}));const _t={__name:"WhatsAppBtn",__ssrInlineRender:!0,props:{text:String},setup(t){const e=()=>{const r="https://wa.me/5511993271622";window.open(r,"_blank")};return(n,r,s,i)=>{const o=c.resolveComponent("q-btn"),a=c.resolveComponent("q-avatar"),l=c.resolveComponent("q-img");r(p.ssrRenderComponent(o,c.mergeProps({align:"left",size:"md",class:"py-2 rounded bg-white text-primary my-5 mt-auto shadow-2xl flex justify-start mx-auto",onClick:e},i),{default:c.withCtx((u,h,d,m)=>{if(h)h(p.ssrRenderComponent(a,{size:"40px",class:"mr-5"},{default:c.withCtx((f,y,T,E)=>{if(y)y(p.ssrRenderComponent(l,{src:"zap-icon.png",alt:"\xCDcone Whatsapp"},null,T,E));else return[c.createVNode(l,{src:"zap-icon.png",alt:"\xCDcone Whatsapp"})]}),_:1},d,m)),h(` ${p.ssrInterpolate(t.text)}`);else return[c.createVNode(a,{size:"40px",class:"mr-5"},{default:c.withCtx(()=>[c.createVNode(l,{src:"zap-icon.png",alt:"\xCDcone Whatsapp"})]),_:1}),c.createTextVNode(" "+c.toDisplayString(t.text),1)]}),_:1},s))}}},Ni=_t.setup;_t.setup=(t,e)=>{const n=c.useSSRContext();return(n.modules||(n.modules=new Set)).add("src/components/WhatsAppBtn.vue"),Ni?Ni(t,e):void 0};const Sn={__name:"HeroComponent",__ssrInlineRender:!0,props:{image:String,firstTitle:String,secondTitle:String,subtitle:String},setup(t){const e=c.ref("Converse Conosco");return(n,r,s,i)=>{const o=c.resolveComponent("q-img");r(`<section${p.ssrRenderAttrs(c.mergeProps({class:"relative w-full h-screen overflow-hidden flex justify-center items-center"},i))}><div class="absolute top-0 left-0 w-full h-full">`),r(p.ssrRenderComponent(o,{src:t.image,alt:"Praia em Porto Seguro Bahia",class:"object-cover object-[85%] md:object-center w-full h-full"},null,s)),r(`</div><div class="absolute top-0 left-0 w-full h-full bg-black opacity-15"></div><div class="absolute top-0 max-w-2xl w-full h-full flex p-5 flex-col py-[200px] justify-center md:justify-start items-center text-center text-white z-10"><h1 class="text-5xl md:text-[80px] text-white font-bold mb-6 font-sans leading-3 shadow-primary drop-shadow-lg">${p.ssrInterpolate(t.firstTitle)} <span class="text-6xl md:text-[120px] leading-normal uppercase">${p.ssrInterpolate(t.secondTitle)}</span></h1><p class="text-3xl md:text-3xl text-shadow-outline text-white font-open">${p.ssrInterpolate(t.subtitle)}</p>`),r(p.ssrRenderComponent(_t,{text:e.value},null,s)),r("</div></section>")}}},Di=Sn.setup;Sn.setup=(t,e)=>{const n=c.useSSRContext();return(n.modules||(n.modules=new Set)).add("src/components/HeroComponent.vue"),Di?Di(t,e):void 0};const ws={__name:"SelectionBarItem",__ssrInlineRender:!0,props:{bgColor:String,icon:String,text:String},setup(t){return(e,n,r,s)=>{n(`<div${p.ssrRenderAttrs(c.mergeProps({class:`hover:scale-105 hover:shadow-2xl cursor-pointer ease-in-out duration-300 flex flex-col
  justify-center items-center ${t.bgColor} p-5`},s))}><img${p.ssrRenderAttr("src",t.icon)} alt="" class="w-20 h-20"><p class="text-white text-lg">${p.ssrInterpolate(t.text)}</p></div>`)}}},ki=ws.setup;ws.setup=(t,e)=>{const n=c.useSSRContext();return(n.modules||(n.modules=new Set)).add("src/components/SelectionBarItem.vue"),ki?ki(t,e):void 0};const bn={__name:"SelectionBar",__ssrInlineRender:!0,setup(t){const e=c.ref([{bgColor:"bg-secondary",icon:"drink.svg",text:"Festas"},{bgColor:"bg-accent",icon:"bus.svg",text:"Traslados"},{bgColor:"bg-secondary",icon:"boat.svg",text:"Passeios"},{bgColor:"bg-accent",icon:"beach.svg",text:"Praias"},{bgColor:"bg-secondary",icon:"dive.svg",text:"Mergulhos"},{bgColor:"bg-accent",icon:"food.svg",text:"Gastronomia"}]);return(n,r,s,i)=>{r(`<section${p.ssrRenderAttrs(c.mergeProps({class:"w-full h-auto md:h-44 bg-white flex justify-center"},i))}><div class="w-full grid grid-cols-3 md:grid-cols-6"><!--[-->`),p.ssrRenderList(e.value,o=>{r(p.ssrRenderComponent(ws,{bgColor:o.bgColor,icon:o.icon,text:o.text,key:o.text},null,s))}),r("<!--]--></div></section>")}}},Mi=bn.setup;bn.setup=(t,e)=>{const n=c.useSSRContext();return(n.modules||(n.modules=new Set)).add("src/components/SelectionBar.vue"),Mi?Mi(t,e):void 0};const Ts={__name:"TransferCard",__ssrInlineRender:!0,props:{image:String,alt:String,title:String,text:String,customCss:String,order:Boolean},setup(t){const e=c.ref("Saiba mais");return(n,r,s,i)=>{r(`<figure${p.ssrRenderAttrs(c.mergeProps({class:"flex flex-row max-w-[1000px] px-6 mx-auto mb-20 justify-between"},i))}><img${p.ssrRenderAttr("src",t.image)}${p.ssrRenderAttr("alt",t.alt)} class="${p.ssrRenderClass(` w-full md:w-1/3 object-cover object-bottom aspect-square drop-shadow-md w-[315px] h-[315px] ${t.order?"md:order-2":""}`)}"><figcaption class="${p.ssrRenderClass(`w-full md:w-2/3 md:px-10 flex flex-col justify-start items-start py-6 ${t.customCss}`)}"><h2 class="text-sans font-bold text-secondary text-3xl md:text-4xl mb-6">${p.ssrInterpolate(t.title)}</h2><p class="text-white text-lg mb-6">${p.ssrInterpolate(t.text)}</p>`),r(p.ssrRenderComponent(_t,{text:e.value},null,s)),r("</figcaption></figure>")}}},Oi=Ts.setup;Ts.setup=(t,e)=>{const n=c.useSSRContext();return(n.modules||(n.modules=new Set)).add("src/components/TransferCard.vue"),Oi?Oi(t,e):void 0};const Pn={__name:"TransferSection",__ssrInlineRender:!0,setup(t){const e=c.ref([{image:"van-1.png",alt:"Van na praia.",title:"Traslados e Passeios Personalizados",text:"Explore as maravilhas de Porto Seguro com nossos passeios exclusivos e traslados confort\xE1veis. Seu parceiro ideal em turismo, garantindo aventuras inesquec\xEDveis e seguran\xE7a em cada viagem!",customCss:"",order:!1},{image:"van-2.png",alt:"Van na Praia do Espelho",title:"Explore o Cora\xE7\xE3o da Bahia com Estilo! ",text:"Porto Seguro espera por voc\xEA com suas praias deslumbrantes e hist\xF3ria rica. Desfrute de experi\xEAncias \xFAnicas com nossos tours especializados e servi\xE7os de traslado de primeira classe, projetados para proporcionar conforto e conveni\xEAncia em suas aventuras tropicais.",customCss:"md:pl-0 md:pr-20",order:!0},{image:"van-3.png",alt:"turistas felizes dentro da Van",title:"Viva a Magia de Porto Seguro!",text:"Embarque em uma jornada extraordin\xE1ria pelos encantos naturais e culturais de Porto Seguro. Oferecemos itiner\xE1rios personalizados e servi\xE7os de qualidade para tornar cada momento de sua viagem memor\xE1vel e cheio de descobertas.",customCss:"",order:!1}]),n=c.ref("Fa\xE7a uma cota\xE7\xE3o");return(r,s,i,o)=>{s(`<section${p.ssrRenderAttrs(c.mergeProps({class:"w-full min-h-[500px] bg-primary py-20"},o))}><div class="container flex flex-col mx-auto"><header class="px-6 max-w-[1000px] mb-16 md:mb-28"><h1 class="font-sans text-3xl md:text-6xl text-accent font-bold mb-2 md:mb-5">Explore Porto Seguro com Conforto e Seguran\xE7a</h1><p class="text-secondary text-lg md:text-2xl">Traslados e Passeios Personalizados</p></header><!--[-->`),p.ssrRenderList(e.value,a=>{s(p.ssrRenderComponent(Ts,{image:a.image,title:a.title,text:a.text,customCss:a.customCss,order:a.order,alt:a.alt,key:a.image},null,i))}),s('<!--]--><footer class="flex flex-col w-full max-w-[800px] px-6 md:mx-auto"><h2 class="text-accent text-3xl md:text-6xl font-bold mb-6 text-center md:text-left">Pronto para Descobrir Porto Seguro?</h2><p class="text-white text-lg md:text-xl mb-10">N\xE3o espere mais para planejar a viagem dos seus sonhos! Clique aqui e fa\xE7a j\xE1 a sua cota\xE7\xE3o de traslados via WhatsApp. R\xE1pido, f\xE1cil e seguro \u2013 seu Porto Seguro est\xE1 a apenas uma mensagem de dist\xE2ncia!</p>'),s(p.ssrRenderComponent(_t,{text:n.value},null,i)),s("</footer></div></section>")}}},Li=Pn.setup;Pn.setup=(t,e)=>{const n=c.useSSRContext();return(n.modules||(n.modules=new Set)).add("src/components/TransferSection.vue"),Li?Li(t,e):void 0};const Re={__name:"FooterComponent",__ssrInlineRender:!0,props:{copyRight:String,firstTitle:String,secondTitle:String},setup(t){ct.useRouter();function e(){const i="https://www.instagram.com/essencia.bahiana";window.open(i,"_blank")}function n(){const i="https://www.facebook.com/profile.php?id=61555489870691&mibextid=9R9pXO";window.open(i,"_blank")}function r(){const o="https://wa.me/5511993271622";window.open(o,"_blank")}function s(){const i="mailto:contato@essenciabahiana.com.br";window.open(i,"_blank")}return(i,o,a,l)=>{const u=c.resolveComponent("q-btn");o(`<footer${p.ssrRenderAttrs(c.mergeProps({elevated:"",class:"bg-primary w-full text-light-gray"},l))}><div class="q-px-lg q-py-md"><div class="flex flex-wrap justify-between items-center"><div class="flex items-center"><img src="/logo.svg" alt="Logo Essencia Bahiana" class="h-12 mr-4 bg-white rounded-full"><div class="text-2xl font-bold font-sans text-accent">${p.ssrInterpolate(t.firstTitle)} <span class="uppercase text-3xl font-bold">${p.ssrInterpolate(t.secondTitle)}</span></div></div><div class="flex items-center mx-auto md:mx-0">`),o(p.ssrRenderComponent(u,{flat:"",dense:"",round:"",icon:"fa-brands fa-instagram",class:"text-xl text-accent",onClick:e},null,a)),o(p.ssrRenderComponent(u,{flat:"",dense:"",round:"",icon:"fa-brands fa-facebook-f",class:"text-xl text-accent",onClick:n},null,a)),o(p.ssrRenderComponent(u,{flat:"",dense:"",round:"",icon:"fa-brands fa-whatsapp",class:"text-xl text-accent",onClick:r},null,a)),o(p.ssrRenderComponent(u,{flat:"",dense:"",round:"",icon:"email",class:"text-xl text-accent",onClick:s},null,a)),o(`</div></div><div class="text-center q-mt-md text-accent flex flex-col">${p.ssrInterpolate(t.copyRight)} <span class="cursor-pointer">Pol\xEDticas de Privacidade</span></div></div></footer>`)}}},qi=Re.setup;Re.setup=(t,e)=>{const n=c.useSSRContext();return(n.modules||(n.modules=new Set)).add("src/components/FooterComponent.vue"),qi?qi(t,e):void 0};const Vn={__name:"ContactSection",__ssrInlineRender:!0,setup(t){pe.useQuasar();const e=c.ref(""),n=c.ref(""),r=c.ref(""),s=c.ref(""),i=c.ref(""),o=c.ref(null),a=c.ref(null),l=c.ref(null);return(u,h,d,m)=>{const f=c.resolveComponent("q-input"),y=c.resolveComponent("q-btn");h(`<div${p.ssrRenderAttrs(c.mergeProps({class:"contact-section bg-dark-page text-light-gray p-10",id:"contact"},m))}><div class="container mx-auto"><div class="text-center mb-10"><h2 class="text-6xl font-bold text-primary mb-2">Entre em Contato</h2><p class="text-secondary text-xl">Estamos prontos para atend\xEA-lo!</p></div><div class="grid grid-cols-1 gap-8"><div class="contact-info">`),h(p.ssrRenderComponent(_t,{text:"Converse pelo WhatsApp"},null,d)),h('</div><div class="contact-form"><p class="text-accent">Ou preencha o formul\xE1rio abaixo:</p><form>'),h(p.ssrRenderComponent(f,{filled:"",modelValue:e.value,"onUpdate:modelValue":T=>e.value=T,ref_key:"nameRef",ref:o,rules:[T=>!!T||"Nome \xE9 obrigat\xF3rio."],label:"Nome",class:"mb-4",color:"primary"},null,d)),h(p.ssrRenderComponent(f,{filled:"",modelValue:i.value,"onUpdate:modelValue":T=>i.value=T,label:"E-mail",class:"mb-6",color:"primary"},null,d)),h(p.ssrRenderComponent(f,{filled:"",modelValue:s.value,"onUpdate:modelValue":T=>s.value=T,label:"Telefone",class:"mb-6",color:"primary"},null,d)),h(p.ssrRenderComponent(f,{filled:"",modelValue:n.value,"onUpdate:modelValue":T=>n.value=T,ref_key:"subjectRef",ref:a,rules:[T=>!!T||"Assunto \xE9 obrigat\xF3rio."],label:"Assunto",class:"mb-4",color:"primary"},null,d)),h(p.ssrRenderComponent(f,{filled:"",modelValue:r.value,"onUpdate:modelValue":T=>r.value=T,ref_key:"messageRef",ref:l,rules:[T=>!!T||"Mensagem \xE9 obrigat\xF3rio."],label:"Mensagem",type:"textarea",class:"mb-4",color:"primary"},null,d)),h(p.ssrRenderComponent(y,{label:"Enviar Mensagem",type:"submit",color:"secondary",class:"w-full"},null,d)),h("</form></div></div></div></div>")}}},Fi=Vn.setup;Vn.setup=(t,e)=>{const n=c.useSSRContext();return(n.modules||(n.modules=new Set)).add("src/components/ContactSection.vue"),Fi?Fi(t,e):void 0};const As={__name:"IndexPage",__ssrInlineRender:!0,setup(t){const e=c.ref("Ess\xEAncia"),n=c.ref("Bahiana"),r=c.ref("Descubra a Magia e a Cultura \xDAnica da Terra do Descobrimento"),s=c.ref("/hero.jpg"),i=c.ref(`\xA9 ${new Date().getFullYear()} Essencia Bahiana. Todos os direitos reservados.`);return pe.useMeta({title:"Ess\xEAncia BAHIANA",meta:{description:{name:"description",content:"Descubra o melhor de Porto Seguro com a Ess\xEAncia Bahiana. Oferecemos passeios personalizados e traslados confort\xE1veis para uma experi\xEAncia de viagem aut\xEAntica e memor\xE1vel na Bahia."},equiv:{"http-equiv":"Content-Type",content:"text/html; charset=UTF-8"},keywords:{name:"keywords",content:"Porto Seguro, Pontos tur\xEDsticos em Porto Seguro, Passeios em Porto Seguro, Traslados em Porto Seguro, Turismo na Bahia, Viagens pela Bahia, Melhores experi\xEAncias em Porto Seguro, Roteiros de viagem em Porto Seguro, Atra\xE7\xF5es tur\xEDsticas na regi\xE3o, Servi\xE7o de transporte em Porto Seguro, Roteiro de viagem personalizado, Dicas de viagem para Porto Seguro, Destinos na Bahia, Planejamento de viagem, Experi\xEAncias memor\xE1veis na Bahia."},ogTitle:{property:"og:title",template(){return"Ess\xEAncia BAHIANA"}},ogDescription:{property:"og:description",template(){return"Descubra o melhor de Porto Seguro com a Ess\xEAncia Bahiana. Oferecemos passeios personalizados e traslados confort\xE1veis para uma experi\xEAncia de viagem aut\xEAntica e memor\xE1vel na Bahia."}},ogImage:{property:"og:image",template(){return"https://essenciabahiana.com.br/hero.jpg"}},twitterTitle:{property:"twitter:title",template(){return"Ess\xEAncia BAHIANA"}},twitterDescription:{property:"twitter:description",template(){return"Descubra o melhor de Porto Seguro com a Ess\xEAncia Bahiana. Oferecemos passeios personalizados e traslados confort\xE1veis para uma experi\xEAncia de viagem aut\xEAntica e memor\xE1vel na Bahia."}},twitterImage:{property:"twitter:image",template(){return"https://essenciabahiana.com.br/hero.jpg"}}}}),(o,a,l,u)=>{const h=c.resolveComponent("q-page");a(p.ssrRenderComponent(h,c.mergeProps({class:"flex flex-center w-full"},u),{default:c.withCtx((d,m,f,y)=>{if(m)m(p.ssrRenderComponent(Sn,{image:s.value,firstTitle:e.value,secondTitle:n.value,subtitle:r.value},null,f,y)),m(p.ssrRenderComponent(bn,null,null,f,y)),m(p.ssrRenderComponent(Pn,null,null,f,y)),m(p.ssrRenderComponent(Vn,null,null,f,y)),m(p.ssrRenderComponent(Re,{firstTitle:e.value,secondTitle:n.value,copyRight:i.value},null,f,y));else return[c.createVNode(Sn,{image:s.value,firstTitle:e.value,secondTitle:n.value,subtitle:r.value},null,8,["image","firstTitle","secondTitle","subtitle"]),c.createVNode(bn),c.createVNode(Pn),c.createVNode(Vn),c.createVNode(Re,{firstTitle:e.value,secondTitle:n.value,copyRight:i.value},null,8,["firstTitle","secondTitle","copyRight"])]}),_:1},l))}}},Bi=As.setup;As.setup=(t,e)=>{const n=c.useSSRContext();return(n.modules||(n.modules=new Set)).add("src/pages/IndexPage.vue"),Bi?Bi(t,e):void 0};var Hc=Object.freeze(Object.defineProperty({__proto__:null,default:As},Symbol.toStringTag,{value:"Module"}));const Nn={__name:"FaqSection",__ssrInlineRender:!0,props:{faqs:{question:String,answer:String}},setup(t){const e=t;return(n,r,s,i)=>{const o=c.resolveComponent("q-expansion-item"),a=c.resolveComponent("q-card"),l=c.resolveComponent("q-card-section");r(`<div${p.ssrRenderAttrs(c.mergeProps({class:"faq-container py-8"},i))}><div class="faq-title text-2xl font-bold mb-4 text-primary"> Perguntas Frequentes (FAQs) </div><div class="faq-content"><!--[-->`),p.ssrRenderList(e.faqs,(u,h)=>{r('<div class="faq-item mb-4 text-primary">'),r(p.ssrRenderComponent(o,{"expand-separator":"",label:u.question},{default:c.withCtx((d,m,f,y)=>{if(m)m(p.ssrRenderComponent(a,null,{default:c.withCtx((T,E,D,S)=>{if(E)E(p.ssrRenderComponent(l,{class:"text-secondary"},{default:c.withCtx((z,H,le,te)=>{if(H)H(`${p.ssrInterpolate(u.answer)}`);else return[c.createTextVNode(c.toDisplayString(u.answer),1)]}),_:2},D,S));else return[c.createVNode(l,{class:"text-secondary"},{default:c.withCtx(()=>[c.createTextVNode(c.toDisplayString(u.answer),1)]),_:2},1024)]}),_:2},f,y));else return[c.createVNode(a,null,{default:c.withCtx(()=>[c.createVNode(l,{class:"text-secondary"},{default:c.withCtx(()=>[c.createTextVNode(c.toDisplayString(u.answer),1)]),_:2},1024)]),_:2},1024)]}),_:2},s)),r("</div>")}),r("<!--]--></div></div>")}}},$i=Nn.setup;Nn.setup=(t,e)=>{const n=c.useSSRContext();return(n.modules||(n.modules=new Set)).add("src/components/FaqSection.vue"),$i?$i(t,e):void 0};const xs={__name:"PrivacyPolicy",__ssrInlineRender:!0,setup(t){const e=c.ref([{question:"Como o Ess\xEAncia Bahiana utiliza o Google AdSense para coletar dados?",answer:"O Ess\xEAncia Bahiana utiliza o Google AdSense para exibir an\xFAncios que s\xE3o relevantes para os usu\xE1rios. O Google AdSense utiliza cookies e outras tecnologias de rastreamento para coletar informa\xE7\xF5es sobre as prefer\xEAncias dos usu\xE1rios e o tipo de conte\xFAdo que acessam. Essas informa\xE7\xF5es s\xE3o usadas para fornecer an\xFAncios direcionados, melhorando assim a experi\xEAncia do usu\xE1rio e permitindo a monetiza\xE7\xE3o do site.",open:!1},{question:"Quais s\xE3o os direitos do usu\xE1rio em rela\xE7\xE3o aos dados coletados pelo Ess\xEAncia Bahiana?",answer:"Usu\xE1rios do Ess\xEAncia Bahiana t\xEAm o direito de acessar, corrigir ou excluir seus dados pessoais a qualquer momento. Al\xE9m disso, os usu\xE1rios t\xEAm o direito de se opor ou restringir o processamento de seus dados e o direito \xE0 portabilidade de dados. Para exercer esses direitos, os usu\xE1rios podem entrar em contato diretamente com o Ess\xEAncia Bahiana atrav\xE9s dos canais de suporte fornecidos.",open:!1},{question:"Como posso gerenciar minhas prefer\xEAncias de cookies no Ess\xEAncia Bahiana?",answer:"Os usu\xE1rios podem gerenciar suas prefer\xEAncias de cookies nas configura\xE7\xF5es do navegador. Al\xE9m disso, o Ess\xEAncia Bahiana fornece informa\xE7\xF5es e op\xE7\xF5es para gerenciar prefer\xEAncias de cookies diretamente no site, permitindo que os usu\xE1rios escolham aceitar, recusar ou personalizar o uso de cookies conforme necess\xE1rio.",open:!1},{question:"Que medidas de seguran\xE7a o Ess\xEAncia Bahiana implementa para proteger os dados dos usu\xE1rios?",answer:"O Ess\xEAncia Bahiana implementa v\xE1rias medidas de seguran\xE7a para proteger os dados dos usu\xE1rios, incluindo criptografia de dados, firewalls e protocolos de seguran\xE7a para prevenir o acesso n\xE3o autorizado. Al\xE9m disso, realizamos treinamentos regulares de seguran\xE7a para nossa equipe e mantemos pol\xEDticas rigorosas para garantir a prote\xE7\xE3o e a privacidade dos dados dos usu\xE1rios.",open:!1},{question:"Como o Ess\xEAncia Bahiana lida com a privacidade das crian\xE7as?",answer:"O Ess\xEAncia Bahiana leva a privacidade das crian\xE7as a s\xE9rio e est\xE1 em conformidade com a Lei de Prote\xE7\xE3o \xE0 Privacidade Online de Crian\xE7as (COPPA). N\xE3o coletamos intencionalmente informa\xE7\xF5es de crian\xE7as menores de 13 anos. Se tivermos conhecimento de que informa\xE7\xF5es foram coletadas de uma crian\xE7a menor de 13 anos, tomaremos medidas imediatas para excluir tais informa\xE7\xF5es.",open:!1},{question:"O Ess\xEAncia Bahiana compartilha informa\xE7\xF5es com outros pa\xEDses?",answer:"O Ess\xEAncia Bahiana pode transferir informa\xE7\xF5es para pa\xEDses fora do Brasil, especialmente em rela\xE7\xE3o \xE0 integra\xE7\xE3o com o Google AdSense. No entanto, asseguramos que todas as transfer\xEAncias de dados s\xE3o realizadas em conformidade com as leis de prote\xE7\xE3o de dados aplic\xE1veis e que medidas de seguran\xE7a adequadas est\xE3o em vigor para proteger os dados durante a transfer\xEAncia e em seu destino final.",open:!1}]),n=c.ref("Ess\xEAncia"),r=c.ref("Bahiana"),s=c.ref(`\xA9 ${new Date().getFullYear()} Essencia Bahiana. Todos os direitos reservados.`);return(i,o,a,l)=>{const u=c.resolveComponent("q-page");o(p.ssrRenderComponent(u,c.mergeProps({class:"privacy-policy"},l),{default:c.withCtx((h,d,m,f)=>{if(d)d(`<div class="mt-48 container mx-auto"${f}><h1 class="text-6xl font-bold font-sans text-primary mb-10"${f}>Pol\xEDtica de Privacidade do Ess\xEAncia Bahiana</h1><p class="text-secondary text-lg mb-6"${f}>Saiba como o Ess\xEAncia Bahiana protege sua privacidade e dados pessoais, especialmente em conex\xE3o com o Google AdSense.</p><p class="text-secondary text-lg mb-6"${f}>Bem-vindo ao Ess\xEAncia Bahiana! Prezamos pela transpar\xEAncia e compromisso com a seguran\xE7a dos seus dados pessoais. Esta Pol\xEDtica de Privacidade explica como coletamos, utilizamos e compartilhamos informa\xE7\xF5es no \xE2mbito de nossos servi\xE7os, incluindo, mas n\xE3o se limitando \xE0 integra\xE7\xE3o com o Google AdSense.</p><h2 class="font-bold font-sans text-primary text-3xl"${f}>Introdu\xE7\xE3o \xE0 Pol\xEDtica de Privacidade</h2><p class="text-secondary text-lg mb-6"${f}>A privacidade dos nossos usu\xE1rios \xE9 de extrema import\xE2ncia para n\xF3s. O Ess\xEAncia Bahiana est\xE1 comprometido em proteger as informa\xE7\xF5es pessoais coletadas quando voc\xEA acessa nosso conte\xFAdo e servi\xE7os. Esta se\xE7\xE3o esclarece o prop\xF3sito da nossa pol\xEDtica e a import\xE2ncia de sua privacidade para n\xF3s.</p><h2 class="font-bold font-sans text-primary text-3xl"${f}>Coleta de Informa\xE7\xF5es</h2><p class="text-secondary text-lg mb-6"${f}>Entender quais informa\xE7\xF5es s\xE3o coletadas e como s\xE3o coletadas \xE9 fundamental. Aqui, explicamos os tipos de dados que o Ess\xEAncia Bahiana coleta, os m\xE9todos de coleta e como o consentimento do usu\xE1rio \xE9 obtido.</p><h2 class="font-bold font-sans text-primary text-3xl"${f}>Uso das Informa\xE7\xF5es Coletadas</h2><p class="text-secondary text-lg mb-6"${f}>As informa\xE7\xF5es coletadas s\xE3o utilizadas para melhorar continuamente nossos servi\xE7os, personalizar a experi\xEAncia do usu\xE1rio e cumprir obriga\xE7\xF5es legais. Este segmento aborda detalhadamente esses aspectos.</p><h2 class="font-bold font-sans text-primary text-3xl"${f}>Integra\xE7\xE3o com o Google AdSense</h2><p class="text-secondary text-lg mb-6"${f}>O Google AdSense permite monetizar o conte\xFAdo do site atrav\xE9s de an\xFAncios. Nesta se\xE7\xE3o, discutiremos como o Ess\xEAncia Bahiana integra o AdSense em suas opera\xE7\xF5es e como isso afeta a coleta e o uso de dados.</p><h2 class="font-bold font-sans text-primary text-3xl"${f}>Compartilhamento e Divulga\xE7\xE3o de Informa\xE7\xF5es</h2><p class="text-secondary text-lg mb-6"${f}>\xC9 importante entender em que circunst\xE2ncias suas informa\xE7\xF5es podem ser compartilhadas. Aqui, explicamos quando e por que suas informa\xE7\xF5es podem ser divulgadas, seja para parceiros terceirizados ou por requisitos legais.</p><h2 class="font-bold font-sans text-primary text-3xl"${f}>Medidas de Seguran\xE7a de Dados</h2><p class="text-secondary text-lg mb-6"${f}>A seguran\xE7a dos seus dados \xE9 uma prioridade. Neste segmento, abordamos as medidas de seguran\xE7a implementadas para proteger seus dados, incluindo criptografia e protocolos de seguran\xE7a.</p><h2 class="font-bold font-sans text-primary text-3xl"${f}>Direitos do Usu\xE1rio e Controle de Dados</h2><p class="text-secondary text-lg mb-6"${f}>Voc\xEA tem direitos significativos em rela\xE7\xE3o aos seus dados pessoais. Aqui, explicamos como voc\xEA pode acessar, corrigir ou excluir suas informa\xE7\xF5es pessoais e quais s\xE3o seus direitos de portabilidade de dados.</p><h2 class="font-bold font-sans text-primary text-3xl"${f}>Cookies e Tecnologias de Rastreamento</h2><p class="text-secondary text-lg mb-6"${f}>Cookies e outras tecnologias de rastreamento desempenham um papel crucial na personaliza\xE7\xE3o da experi\xEAncia online. Neste segmento, explicamos como essas tecnologias s\xE3o utilizadas no Ess\xEAncia Bahiana e como voc\xEA pode gerenciar suas prefer\xEAncias.</p><h2 class="font-bold font-sans text-primary text-3xl"${f}>Privacidade de Crian\xE7as</h2><p class="text-secondary text-lg mb-6"${f}>A prote\xE7\xE3o de crian\xE7as online \xE9 extremamente importante. Aqui, discutimos as pol\xEDticas do Ess\xEAncia Bahiana em rela\xE7\xE3o \xE0 coleta e uso de dados de crian\xE7as, em conformidade com a COPPA.</p><h2 class="font-bold font-sans text-primary text-3xl"${f}>Transfer\xEAncias Internacionais de Dados</h2><p class="text-secondary text-lg mb-6"${f}>Como as informa\xE7\xF5es podem ser transferidas internacionalmente, \xE9 crucial entender as pol\xEDticas e salvaguardas em vigor. Esta se\xE7\xE3o detalha como o Ess\xEAncia Bahiana lida com transfer\xEAncias de dados transfronteiri\xE7as.</p><h2 class="font-bold font-sans text-primary text-3xl"${f}>Websites e Servi\xE7os de Terceiros</h2><p class="text-secondary text-lg mb-6"${f}>O Ess\xEAncia Bahiana pode conter links para sites externos. Aqui, explicamos como interagimos com esses sites de terceiros e a import\xE2ncia de revisar suas pol\xEDticas de privacidade.</p>`),d(p.ssrRenderComponent(Nn,{faqs:e.value},null,m,f)),d("</div>"),d(p.ssrRenderComponent(Re,{firstTitle:n.value,secondTitle:r.value,copyRight:s.value},null,m,f));else return[c.createVNode("div",{class:"mt-48 container mx-auto"},[c.createVNode("h1",{class:"text-6xl font-bold font-sans text-primary mb-10"},"Pol\xEDtica de Privacidade do Ess\xEAncia Bahiana"),c.createVNode("p",{class:"text-secondary text-lg mb-6"},"Saiba como o Ess\xEAncia Bahiana protege sua privacidade e dados pessoais, especialmente em conex\xE3o com o Google AdSense."),c.createVNode("p",{class:"text-secondary text-lg mb-6"},"Bem-vindo ao Ess\xEAncia Bahiana! Prezamos pela transpar\xEAncia e compromisso com a seguran\xE7a dos seus dados pessoais. Esta Pol\xEDtica de Privacidade explica como coletamos, utilizamos e compartilhamos informa\xE7\xF5es no \xE2mbito de nossos servi\xE7os, incluindo, mas n\xE3o se limitando \xE0 integra\xE7\xE3o com o Google AdSense."),c.createVNode("h2",{class:"font-bold font-sans text-primary text-3xl"},"Introdu\xE7\xE3o \xE0 Pol\xEDtica de Privacidade"),c.createVNode("p",{class:"text-secondary text-lg mb-6"},"A privacidade dos nossos usu\xE1rios \xE9 de extrema import\xE2ncia para n\xF3s. O Ess\xEAncia Bahiana est\xE1 comprometido em proteger as informa\xE7\xF5es pessoais coletadas quando voc\xEA acessa nosso conte\xFAdo e servi\xE7os. Esta se\xE7\xE3o esclarece o prop\xF3sito da nossa pol\xEDtica e a import\xE2ncia de sua privacidade para n\xF3s."),c.createVNode("h2",{class:"font-bold font-sans text-primary text-3xl"},"Coleta de Informa\xE7\xF5es"),c.createVNode("p",{class:"text-secondary text-lg mb-6"},"Entender quais informa\xE7\xF5es s\xE3o coletadas e como s\xE3o coletadas \xE9 fundamental. Aqui, explicamos os tipos de dados que o Ess\xEAncia Bahiana coleta, os m\xE9todos de coleta e como o consentimento do usu\xE1rio \xE9 obtido."),c.createVNode("h2",{class:"font-bold font-sans text-primary text-3xl"},"Uso das Informa\xE7\xF5es Coletadas"),c.createVNode("p",{class:"text-secondary text-lg mb-6"},"As informa\xE7\xF5es coletadas s\xE3o utilizadas para melhorar continuamente nossos servi\xE7os, personalizar a experi\xEAncia do usu\xE1rio e cumprir obriga\xE7\xF5es legais. Este segmento aborda detalhadamente esses aspectos."),c.createVNode("h2",{class:"font-bold font-sans text-primary text-3xl"},"Integra\xE7\xE3o com o Google AdSense"),c.createVNode("p",{class:"text-secondary text-lg mb-6"},"O Google AdSense permite monetizar o conte\xFAdo do site atrav\xE9s de an\xFAncios. Nesta se\xE7\xE3o, discutiremos como o Ess\xEAncia Bahiana integra o AdSense em suas opera\xE7\xF5es e como isso afeta a coleta e o uso de dados."),c.createVNode("h2",{class:"font-bold font-sans text-primary text-3xl"},"Compartilhamento e Divulga\xE7\xE3o de Informa\xE7\xF5es"),c.createVNode("p",{class:"text-secondary text-lg mb-6"},"\xC9 importante entender em que circunst\xE2ncias suas informa\xE7\xF5es podem ser compartilhadas. Aqui, explicamos quando e por que suas informa\xE7\xF5es podem ser divulgadas, seja para parceiros terceirizados ou por requisitos legais."),c.createVNode("h2",{class:"font-bold font-sans text-primary text-3xl"},"Medidas de Seguran\xE7a de Dados"),c.createVNode("p",{class:"text-secondary text-lg mb-6"},"A seguran\xE7a dos seus dados \xE9 uma prioridade. Neste segmento, abordamos as medidas de seguran\xE7a implementadas para proteger seus dados, incluindo criptografia e protocolos de seguran\xE7a."),c.createVNode("h2",{class:"font-bold font-sans text-primary text-3xl"},"Direitos do Usu\xE1rio e Controle de Dados"),c.createVNode("p",{class:"text-secondary text-lg mb-6"},"Voc\xEA tem direitos significativos em rela\xE7\xE3o aos seus dados pessoais. Aqui, explicamos como voc\xEA pode acessar, corrigir ou excluir suas informa\xE7\xF5es pessoais e quais s\xE3o seus direitos de portabilidade de dados."),c.createVNode("h2",{class:"font-bold font-sans text-primary text-3xl"},"Cookies e Tecnologias de Rastreamento"),c.createVNode("p",{class:"text-secondary text-lg mb-6"},"Cookies e outras tecnologias de rastreamento desempenham um papel crucial na personaliza\xE7\xE3o da experi\xEAncia online. Neste segmento, explicamos como essas tecnologias s\xE3o utilizadas no Ess\xEAncia Bahiana e como voc\xEA pode gerenciar suas prefer\xEAncias."),c.createVNode("h2",{class:"font-bold font-sans text-primary text-3xl"},"Privacidade de Crian\xE7as"),c.createVNode("p",{class:"text-secondary text-lg mb-6"},"A prote\xE7\xE3o de crian\xE7as online \xE9 extremamente importante. Aqui, discutimos as pol\xEDticas do Ess\xEAncia Bahiana em rela\xE7\xE3o \xE0 coleta e uso de dados de crian\xE7as, em conformidade com a COPPA."),c.createVNode("h2",{class:"font-bold font-sans text-primary text-3xl"},"Transfer\xEAncias Internacionais de Dados"),c.createVNode("p",{class:"text-secondary text-lg mb-6"},"Como as informa\xE7\xF5es podem ser transferidas internacionalmente, \xE9 crucial entender as pol\xEDticas e salvaguardas em vigor. Esta se\xE7\xE3o detalha como o Ess\xEAncia Bahiana lida com transfer\xEAncias de dados transfronteiri\xE7as."),c.createVNode("h2",{class:"font-bold font-sans text-primary text-3xl"},"Websites e Servi\xE7os de Terceiros"),c.createVNode("p",{class:"text-secondary text-lg mb-6"},"O Ess\xEAncia Bahiana pode conter links para sites externos. Aqui, explicamos como interagimos com esses sites de terceiros e a import\xE2ncia de revisar suas pol\xEDticas de privacidade."),c.createVNode(Nn,{faqs:e.value},null,8,["faqs"])]),c.createVNode(Re,{firstTitle:n.value,secondTitle:r.value,copyRight:s.value},null,8,["firstTitle","secondTitle","copyRight"])]}),_:1},a))}}},Ui=xs.setup;xs.setup=(t,e)=>{const n=c.useSSRContext();return(n.modules||(n.modules=new Set)).add("src/pages/PrivacyPolicy.vue"),Ui?Ui(t,e):void 0};var Gc=Object.freeze(Object.defineProperty({__proto__:null,default:xs},Symbol.toStringTag,{value:"Module"}));const De={__name:"ArticleBlogHomeHero",__ssrInlineRender:!0,props:{article:{title:String,imageURL:String,excerpt:String,containerStyle:String,titleStyle:String,excerptStyle:String,imageStyle:String}},setup(t){return(e,n,r,s)=>{const i=c.resolveComponent("q-img");n(`<article${p.ssrRenderAttrs(c.mergeProps({class:`w-full pb-6 md:pb-0 cursor-pointer ${t.article.containerStyle}`},s))}><figure class="relative figure-hover"><div class="relative w-full h-full overflow-hidden">`),n(p.ssrRenderComponent(i,{src:t.article.imageURL,class:`relative object-cover object-center relative z-10 image-hover ease-in-out duration-500 ${t.article.imageStyle}`,alt:t.article.title},null,r)),n(`</div><figcaption class="z-20 md:absolute bottom-0 py-3 md:p-6"><header><h1 class="${p.ssrRenderClass(`text-2xl md:text-shadow-outline font-bold font-sans ${t.article.titleStyle} md:text-white`)}">${p.ssrInterpolate(t.article.title)}</h1><p class="${p.ssrRenderClass(`text-lg md:text-white md:text-shadow-outline ${t.article.excerptStyle}`)}">${p.ssrInterpolate(t.article.excerpt)}</p></header></figcaption></figure></article>`)}}},ji=De.setup;De.setup=(t,e)=>{const n=c.useSSRContext();return(n.modules||(n.modules=new Set)).add("src/components/blog/ArticleBlogHomeHero.vue"),ji?ji(t,e):void 0};const Dn={__name:"BlogHero",__ssrInlineRender:!0,props:{dataHero:{id:String,title:String,imageURL:String,excerpt:String,containerStyle:String,imageStyle:String,titleStyle:String,excerptStyle:String}},setup(t){const e=t,n=c.ref([]);return c.onMounted(()=>{n.value=e.dataHero,n.value[0].containerStyle="md:pr-6",n.value[0].imageStyle=" md:h-[600px]",n.value[0].titleStyle="md:text-5xl",n.value[0].excerptStyle="md:text-lg",n.value[1].containerStyle="md:pb-3",n.value[1].imageStyle="md:h-[288px]",n.value[1].titleStyle="md:text-2xl",n.value[1].excerptStyle="md:text-md",n.value[2].containerStyle="md:pt-3",n.value[2].imageStyle="md:h-[288px]",n.value[2].titleStyle="md:text-2xl",n.value[2].excerptStyle="md:text-md"}),(r,s,i,o)=>{const a=c.resolveComponent("router-link");n.value.length>0?(s(`<div${p.ssrRenderAttrs(c.mergeProps({class:"mx-auto container flex flex-col md:flex-row md:h-[600px]"},o))}><div class="w-full md:w-7/12 px-6 md:px-0 box-border flex md:h-[600px]">`),s(p.ssrRenderComponent(a,{to:`/blog/o-que-fazer/${n.value[0].id}`,class:"w-full"},{default:c.withCtx((l,u,h,d)=>{if(u)u(p.ssrRenderComponent(De,{article:n.value[0]},null,h,d));else return[c.createVNode(De,{article:n.value[0]},null,8,["article"])]}),_:1},i)),s('</div><div class="w-full md:w-5/12 px-6 md:px-0 mb-10 md:mb-0 box-border md:justify-between flex flex-col md:h-[unset]">'),s(p.ssrRenderComponent(a,{to:`/blog/o-que-fazer/${n.value[1].id}`},{default:c.withCtx((l,u,h,d)=>{if(u)u(p.ssrRenderComponent(De,{article:n.value[1]},null,h,d));else return[c.createVNode(De,{article:n.value[1]},null,8,["article"])]}),_:1},i)),s(p.ssrRenderComponent(a,{to:`/blog/o-que-fazer/${n.value[2].id}`},{default:c.withCtx((l,u,h,d)=>{if(u)u(p.ssrRenderComponent(De,{article:n.value[2]},null,h,d));else return[c.createVNode(De,{article:n.value[2]},null,8,["article"])]}),_:1},i)),s("</div></div>")):s("<!---->")}}},zi=Dn.setup;Dn.setup=(t,e)=>{const n=c.useSSRContext();return(n.modules||(n.modules=new Set)).add("src/components/blog/BlogHero.vue"),zi?zi(t,e):void 0};const kn={__name:"ArticleBlogHomeBody",__ssrInlineRender:!0,props:{article:{title:String,imageURL:String,excerpt:String,id:String}},setup(t){return(e,n,r,s)=>{const i=c.resolveComponent("router-link"),o=c.resolveComponent("q-img");n(p.ssrRenderComponent(i,c.mergeProps({to:`/blog/o-que-fazer/${t.article.id}`,class:"w-full"},s),{default:c.withCtx((a,l,u,h)=>{if(l)l(`<article class="w-full mb-10 cursor-pointer px-6 md:px-0 border-b pb-6"${h}><figure class="flex"${h}><div class="w-full md:w-1/3 mb-5 md:mb-0"${h}>`),l(p.ssrRenderComponent(o,{src:t.article.imageURL,class:"w-full object-cover h-[250px]",alt:t.article.title},null,u,h)),l(`</div><figcaption class="w-full md:w-2/3 flex flex-col justify-end md:pl-10"${h}><header${h}><h2 class="text-2xl font-bold font-sans"${h}>${p.ssrInterpolate(t.article.title)}</h2><p class="text-lg"${h}>${p.ssrInterpolate(t.article.excerpt)}</p></header></figcaption></figure></article>`);else return[c.createVNode("article",{class:"w-full mb-10 cursor-pointer px-6 md:px-0 border-b pb-6"},[c.createVNode("figure",{class:"flex"},[c.createVNode("div",{class:"w-full md:w-1/3 mb-5 md:mb-0"},[c.createVNode(o,{src:t.article.imageURL,class:"w-full object-cover h-[250px]",alt:t.article.title},null,8,["src","alt"])]),c.createVNode("figcaption",{class:"w-full md:w-2/3 flex flex-col justify-end md:pl-10"},[c.createVNode("header",null,[c.createVNode("h2",{class:"text-2xl font-bold font-sans"},c.toDisplayString(t.article.title),1),c.createVNode("p",{class:"text-lg"},c.toDisplayString(t.article.excerpt),1)])])])])]}),_:1},r))}}},Hi=kn.setup;kn.setup=(t,e)=>{const n=c.useSSRContext();return(n.modules||(n.modules=new Set)).add("src/components/blog/ArticleBlogHomeBody.vue"),Hi?Hi(t,e):void 0};const Te={__name:"AdComponent",__ssrInlineRender:!0,props:{dataAdSlot:String},setup(t){const e=c.ref(null);return c.onMounted(()=>{}),(n,r,s,i)=>{r(`<div${p.ssrRenderAttrs(c.mergeProps({ref_key:"adContainer",ref:e,class:"w-full ad-container mx-auto p-6 max-w-[1000px]"},i))}><h4 class="font-bold text-secondary font-sans text-base">Publicidade:</h4>`),t.dataAdSlot==="side"?r('<div id="ezoic-pub-ad-placeholder-103"></div>'):r("<!---->"),t.dataAdSlot==="banner"?r('<div id="ezoic-pub-ad-placeholder-104"></div>'):r("<!---->"),r("</div>")}}},Gi=Te.setup;Te.setup=(t,e)=>{const n=c.useSSRContext();return(n.modules||(n.modules=new Set)).add("src/components/blog/AdComponent.vue"),Gi?Gi(t,e):void 0};const Kc={apiKey:"AIzaSyAD7kXLz2-aeXM8WV0Y8_dB3qhB46ZifJo",authDomain:"essencia-bahiana.firebaseapp.com",databaseURL:"https://essencia-bahiana-default-rtdb.firebaseio.com",projectId:"essencia-bahiana",storageBucket:"essencia-bahiana.appspot.com",messagingSenderId:"467804101964",appId:"1:467804101964:web:dd8538419c9232aa1703e9",measurementId:"G-9BP1S8J757"},Is=Rc.initializeApp(Kc);Sc.getFunctions(Is);Cc.getAuth(Is);const Rs=jr.getFirestore(Is);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Qc=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Wc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,h=i>>2,d=(i&3)<<4|a>>4;let m=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(m=64)),r.push(n[h],n[d],n[m],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ia(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Qc(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||d==null)throw new Yc;const m=i<<2|a>>4;if(r.push(m),u!==64){const f=a<<4&240|u>>2;if(r.push(f),d!==64){const y=u<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Yc extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Xc=function(t){const e=ia(t);return Wc.encodeByteArray(e,!0)},oa=function(t){return Xc(t).replace(/\./g,"")};function Jc(){try{return typeof indexedDB=="object"}catch{return!1}}function Zc(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu="FirebaseError";class yt extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=eu,Object.setPrototypeOf(this,yt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,aa.prototype.create)}}class aa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?tu(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new yt(s,a,r)}}function tu(t,e){return t.replace(nu,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const nu=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(t){return t&&t._delegate?t._delegate:t}class Mn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(P||(P={}));const ru={debug:P.DEBUG,verbose:P.VERBOSE,info:P.INFO,warn:P.WARN,error:P.ERROR,silent:P.SILENT},su=P.INFO,iu={[P.DEBUG]:"log",[P.VERBOSE]:"log",[P.INFO]:"info",[P.WARN]:"warn",[P.ERROR]:"error"},ou=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=iu[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class la{constructor(e){this.name=e,this._logLevel=su,this._logHandler=ou,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in P))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ru[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,P.DEBUG,...e),this._logHandler(this,P.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,P.VERBOSE,...e),this._logHandler(this,P.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,P.INFO,...e),this._logHandler(this,P.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,P.WARN,...e),this._logHandler(this,P.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,P.ERROR,...e),this._logHandler(this,P.ERROR,...e)}}const au=(t,e)=>e.some(n=>t instanceof n);let Ki,Qi;function lu(){return Ki||(Ki=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cu(){return Qi||(Qi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ca=new WeakMap,zr=new WeakMap,ua=new WeakMap,Rr=new WeakMap,Cs=new WeakMap;function uu(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Oe(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ca.set(n,t)}).catch(()=>{}),Cs.set(e,t),e}function hu(t){if(zr.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});zr.set(t,e)}let Hr={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zr.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ua.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Oe(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function du(t){Hr=t(Hr)}function mu(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Cr(this),e,...n);return ua.set(r,e.sort?e.sort():[e]),Oe(r)}:cu().includes(t)?function(...e){return t.apply(Cr(this),e),Oe(ca.get(this))}:function(...e){return Oe(t.apply(Cr(this),e))}}function fu(t){return typeof t=="function"?mu(t):(t instanceof IDBTransaction&&hu(t),au(t,lu())?new Proxy(t,Hr):t)}function Oe(t){if(t instanceof IDBRequest)return uu(t);if(Rr.has(t))return Rr.get(t);const e=fu(t);return e!==t&&(Rr.set(t,e),Cs.set(e,t)),e}const Cr=t=>Cs.get(t);function pu(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Oe(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Oe(o.result),l.oldVersion,l.newVersion,Oe(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const gu=["get","getKey","getAll","getAllKeys","count"],_u=["put","add","delete","clear"],Sr=new Map;function Wi(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sr.get(e))return Sr.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=_u.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||gu.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Sr.set(e,i),i}du(t=>({...t,get:(e,n,r)=>Wi(e,n)||t.get(e,n,r),has:(e,n)=>!!Wi(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vu(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function vu(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gr="@firebase/app",Yi="0.9.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We=new la("@firebase/app"),Eu="@firebase/app-compat",wu="@firebase/analytics-compat",Tu="@firebase/analytics",Au="@firebase/app-check-compat",xu="@firebase/app-check",Iu="@firebase/auth",Ru="@firebase/auth-compat",Cu="@firebase/database",Su="@firebase/database-compat",bu="@firebase/functions",Pu="@firebase/functions-compat",Vu="@firebase/installations",Nu="@firebase/installations-compat",Du="@firebase/messaging",ku="@firebase/messaging-compat",Mu="@firebase/performance",Ou="@firebase/performance-compat",Lu="@firebase/remote-config",qu="@firebase/remote-config-compat",Fu="@firebase/storage",Bu="@firebase/storage-compat",$u="@firebase/firestore",Uu="@firebase/firestore-compat",ju="firebase",zu="10.7.1",Hu={[Gr]:"fire-core",[Eu]:"fire-core-compat",[Tu]:"fire-analytics",[wu]:"fire-analytics-compat",[xu]:"fire-app-check",[Au]:"fire-app-check-compat",[Iu]:"fire-auth",[Ru]:"fire-auth-compat",[Cu]:"fire-rtdb",[Su]:"fire-rtdb-compat",[bu]:"fire-fn",[Pu]:"fire-fn-compat",[Vu]:"fire-iid",[Nu]:"fire-iid-compat",[Du]:"fire-fcm",[ku]:"fire-fcm-compat",[Mu]:"fire-perf",[Ou]:"fire-perf-compat",[Lu]:"fire-rc",[qu]:"fire-rc-compat",[Fu]:"fire-gcs",[Bu]:"fire-gcs-compat",[$u]:"fire-fst",[Uu]:"fire-fst-compat","fire-js":"fire-js",[ju]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=new Map,Xi=new Map;function Ku(t,e){try{t.container.addComponent(e)}catch(n){We.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function On(t){const e=t.name;if(Xi.has(e))return We.debug(`There were multiple attempts to register component ${e}.`),!1;Xi.set(e,t);for(const n of Gu.values())Ku(n,t);return!0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ss=new aa("app","Firebase",Qu);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu=zu;function Mt(t,e,n){var r;let s=(r=Hu[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),We.warn(a.join(" "));return}On(new Mn(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu="firebase-heartbeat-database",Xu=1,Ut="firebase-heartbeat-store";let br=null;function ha(){return br||(br=pu(Yu,Xu,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ut)}}}).catch(t=>{throw Ss.create("idb-open",{originalErrorMessage:t.message})})),br}async function Ju(t){try{return await(await ha()).transaction(Ut).objectStore(Ut).get(da(t))}catch(e){if(e instanceof yt)We.warn(e.message);else{const n=Ss.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});We.warn(n.message)}}}async function Ji(t,e){try{const r=(await ha()).transaction(Ut,"readwrite");await r.objectStore(Ut).put(e,da(t)),await r.done}catch(n){if(n instanceof yt)We.warn(n.message);else{const r=Ss.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});We.warn(r.message)}}}function da(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=1024,eh=30*24*60*60*1e3;class th{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rh(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Zi();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=eh}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Zi(),{heartbeatsToSend:r,unsentEntries:s}=nh(this._heartbeatsCache.heartbeats),i=oa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Zi(){return new Date().toISOString().substring(0,10)}function nh(t,e=Zu){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),eo(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),eo(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class rh{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jc()?Zc().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Ju(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ji(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ji(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function eo(t){return oa(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(t){On(new Mn("platform-logger",e=>new yu(e),"PRIVATE")),On(new Mn("heartbeat",e=>new th(e),"PRIVATE")),Mt(Gr,Yi,t),Mt(Gr,Yi,"esm2017"),Mt("fire-js","")}sh("");var ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},v,bs=bs||{},I=ih||self;function Xn(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function nn(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function oh(t){return Object.prototype.hasOwnProperty.call(t,Pr)&&t[Pr]||(t[Pr]=++ah)}var Pr="closure_uid_"+(1e9*Math.random()>>>0),ah=0;function lh(t,e,n){return t.call.apply(t.bind,arguments)}function ch(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function ie(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ie=lh:ie=ch,ie.apply(null,arguments)}function _n(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Y(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function Ue(){this.s=this.s,this.o=this.o}var uh=0;Ue.prototype.s=!1;Ue.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),uh!=0)&&oh(this)};Ue.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ma=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Ps(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function to(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Xn(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function oe(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var hh=function(){if(!I.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};I.addEventListener("test",n,e),I.removeEventListener("test",n,e)}catch{}return t}();function jt(t){return/^[\s\xa0]*$/.test(t)}function Jn(){var t=I.navigator;return t&&(t=t.userAgent)?t:""}function Ee(t){return Jn().indexOf(t)!=-1}function Vs(t){return Vs[" "](t),t}Vs[" "]=function(){};function dh(t,e){var n=sd;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var mh=Ee("Opera"),ut=Ee("Trident")||Ee("MSIE"),fa=Ee("Edge"),Kr=fa||ut,pa=Ee("Gecko")&&!(Jn().toLowerCase().indexOf("webkit")!=-1&&!Ee("Edge"))&&!(Ee("Trident")||Ee("MSIE"))&&!Ee("Edge"),fh=Jn().toLowerCase().indexOf("webkit")!=-1&&!Ee("Edge");function ga(){var t=I.document;return t?t.documentMode:void 0}var Qr;e:{var Vr="",Nr=function(){var t=Jn();if(pa)return/rv:([^\);]+)(\)|;)/.exec(t);if(fa)return/Edge\/([\d\.]+)/.exec(t);if(ut)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(fh)return/WebKit\/(\S+)/.exec(t);if(mh)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Nr&&(Vr=Nr?Nr[1]:""),ut){var Dr=ga();if(Dr!=null&&Dr>parseFloat(Vr)){Qr=String(Dr);break e}}Qr=Vr}var Wr;if(I.document&&ut){var no=ga();Wr=no||parseInt(Qr,10)||void 0}else Wr=void 0;var ph=Wr;function zt(t,e){if(oe.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(pa){e:{try{Vs(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:gh[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&zt.$.h.call(this)}}Y(zt,oe);var gh={2:"touch",3:"pen",4:"mouse"};zt.prototype.h=function(){zt.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var rn="closure_listenable_"+(1e6*Math.random()|0),_h=0;function yh(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++_h,this.fa=this.ia=!1}function Zn(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Ns(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function vh(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function _a(t){const e={};for(const n in t)e[n]=t[n];return e}const ro="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ya(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<ro.length;i++)n=ro[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function er(t){this.src=t,this.g={},this.h=0}er.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=Xr(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new yh(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function Yr(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=ma(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(Zn(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Xr(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var Ds="closure_lm_"+(1e6*Math.random()|0),kr={};function va(t,e,n,r,s){if(r&&r.once)return wa(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)va(t,e[i],n,r,s);return null}return n=Os(n),t&&t[rn]?t.O(e,n,nn(r)?!!r.capture:!!r,s):Ea(t,e,n,!1,r,s)}function Ea(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=nn(s)?!!s.capture:!!s,a=Ms(t);if(a||(t[Ds]=a=new er(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=Eh(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)hh||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(Aa(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Eh(){function t(n){return e.call(t.src,t.listener,n)}const e=wh;return t}function wa(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)wa(t,e[i],n,r,s);return null}return n=Os(n),t&&t[rn]?t.P(e,n,nn(r)?!!r.capture:!!r,s):Ea(t,e,n,!0,r,s)}function Ta(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)Ta(t,e[i],n,r,s);else r=nn(r)?!!r.capture:!!r,n=Os(n),t&&t[rn]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=Xr(i,n,r,s),-1<n&&(Zn(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=Ms(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Xr(e,n,r,s)),(n=-1<t?e[t]:null)&&ks(n))}function ks(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[rn])Yr(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Aa(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ms(e))?(Yr(n,t),n.h==0&&(n.src=null,e[Ds]=null)):Zn(t)}}}function Aa(t){return t in kr?kr[t]:kr[t]="on"+t}function wh(t,e){if(t.fa)t=!0;else{e=new zt(e,this);var n=t.listener,r=t.la||t.src;t.ia&&ks(t),t=n.call(r,e)}return t}function Ms(t){return t=t[Ds],t instanceof er?t:null}var Mr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Os(t){return typeof t=="function"?t:(t[Mr]||(t[Mr]=function(e){return t.handleEvent(e)}),t[Mr])}function W(){Ue.call(this),this.i=new er(this),this.S=this,this.J=null}Y(W,Ue);W.prototype[rn]=!0;W.prototype.removeEventListener=function(t,e,n,r){Ta(this,t,e,n,r)};function Z(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new oe(e,t);else if(e instanceof oe)e.target=e.target||t;else{var s=e;e=new oe(r,t),ya(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=yn(o,r,!0,e)&&s}if(o=e.g=t,s=yn(o,r,!0,e)&&s,s=yn(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=yn(o,r,!1,e)&&s}W.prototype.N=function(){if(W.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Zn(n[r]);delete t.g[e],t.h--}}this.J=null};W.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};W.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function yn(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Yr(t.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var Ls=I.JSON.stringify;class Th{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function Ah(){var t=qs;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class xh{constructor(){this.h=this.g=null}add(e,n){const r=xa.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var xa=new Th(()=>new Ih,t=>t.reset());class Ih{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Rh(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Ch(t){I.setTimeout(()=>{throw t},0)}let Ht,Gt=!1,qs=new xh,Ia=()=>{const t=I.Promise.resolve(void 0);Ht=()=>{t.then(Sh)}};var Sh=()=>{for(var t;t=Ah();){try{t.h.call(t.g)}catch(n){Ch(n)}var e=xa;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Gt=!1};function tr(t,e){W.call(this),this.h=t||1,this.g=e||I,this.j=ie(this.qb,this),this.l=Date.now()}Y(tr,W);v=tr.prototype;v.ga=!1;v.T=null;v.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Z(this,"tick"),this.ga&&(Fs(this),this.start()))}};v.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Fs(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}v.N=function(){tr.$.N.call(this),Fs(this),delete this.g};function Bs(t,e,n){if(typeof t=="function")n&&(t=ie(t,n));else if(t&&typeof t.handleEvent=="function")t=ie(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:I.setTimeout(t,e||0)}function Ra(t){t.g=Bs(()=>{t.g=null,t.i&&(t.i=!1,Ra(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class bh extends Ue{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ra(this)}N(){super.N(),this.g&&(I.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kt(t){Ue.call(this),this.h=t,this.g={}}Y(Kt,Ue);var so=[];function Ca(t,e,n,r){Array.isArray(n)||(n&&(so[0]=n.toString()),n=so);for(var s=0;s<n.length;s++){var i=va(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function Sa(t){Ns(t.g,function(e,n){this.g.hasOwnProperty(n)&&ks(e)},t),t.g={}}Kt.prototype.N=function(){Kt.$.N.call(this),Sa(this)};Kt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function nr(){this.g=!0}nr.prototype.Ea=function(){this.g=!1};function Ph(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var h=u[0];u=u[1];var d=h.split("_");o=2<=d.length&&d[1]=="type"?o+(h+"="+u+"&"):o+(h+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function Vh(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function st(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Dh(t,n)+(r?" "+r:"")})}function Nh(t,e){t.info(function(){return"TIMEOUT: "+e})}nr.prototype.info=function(){};function Dh(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return Ls(n)}catch{return e}}var Ze={},io=null;function rr(){return io=io||new W}Ze.Ta="serverreachability";function ba(t){oe.call(this,Ze.Ta,t)}Y(ba,oe);function Qt(t){const e=rr();Z(e,new ba(e))}Ze.STAT_EVENT="statevent";function Pa(t,e){oe.call(this,Ze.STAT_EVENT,t),this.stat=e}Y(Pa,oe);function ue(t){const e=rr();Z(e,new Pa(e,t))}Ze.Ua="timingevent";function Va(t,e){oe.call(this,Ze.Ua,t),this.size=e}Y(Va,oe);function sn(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return I.setTimeout(function(){t()},e)}var sr={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Na={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function $s(){}$s.prototype.h=null;function oo(t){return t.h||(t.h=t.i())}function Da(){}var on={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Us(){oe.call(this,"d")}Y(Us,oe);function js(){oe.call(this,"c")}Y(js,oe);var Jr;function ir(){}Y(ir,$s);ir.prototype.g=function(){return new XMLHttpRequest};ir.prototype.i=function(){return{}};Jr=new ir;function an(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Kt(this),this.P=kh,t=Kr?125:void 0,this.V=new tr(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ka}function ka(){this.i=null,this.g="",this.h=!1}var kh=45e3,Ma={},Zr={};v=an.prototype;v.setTimeout=function(t){this.P=t};function es(t,e,n){t.L=1,t.A=ar(be(e)),t.u=n,t.S=!0,Oa(t,null)}function Oa(t,e){t.G=Date.now(),ln(t),t.B=be(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),za(n.i,"t",r),t.o=0,n=t.l.J,t.h=new ka,t.g=hl(t.l,n?e:null,!t.u),0<t.O&&(t.M=new bh(ie(t.Pa,t,t.g),t.O)),Ca(t.U,t.g,"readystatechange",t.nb),e=t.I?_a(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Qt(),Ph(t.j,t.v,t.B,t.m,t.W,t.u)}v.nb=function(t){t=t.target;const e=this.M;e&&Ae(t)==3?e.l():this.Pa(t)};v.Pa=function(t){try{if(t==this.g)e:{const h=Ae(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>h)&&(h!=3||Kr||this.g&&(this.h.h||this.g.ja()||uo(this.g)))){this.J||h!=4||e==7||(e==8||0>=d?Qt(3):Qt(2)),or(this);var n=this.g.da();this.ca=n;t:if(La(this)){var r=uo(this.g);t="";var s=r.length,i=Ae(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ze(this),Ot(this);var o="";break t}this.h.i=new I.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,Vh(this.j,this.v,this.B,this.m,this.W,h,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!jt(a)){var u=a;break t}}u=null}if(n=u)st(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ts(this,n);else{this.i=!1,this.s=3,ue(12),ze(this),Ot(this);break e}}this.S?(qa(this,h,o),Kr&&this.i&&h==3&&(Ca(this.U,this.V,"tick",this.mb),this.V.start())):(st(this.j,this.m,o,null),ts(this,o)),h==4&&ze(this),this.i&&!this.J&&(h==4?al(this.l,this):(this.i=!1,ln(this)))}else td(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,ue(12)):(this.s=0,ue(13)),ze(this),Ot(this)}}}catch{}finally{}};function La(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function qa(t,e,n){let r=!0,s;for(;!t.J&&t.o<n.length;)if(s=Mh(t,n),s==Zr){e==4&&(t.s=4,ue(14),r=!1),st(t.j,t.m,null,"[Incomplete Response]");break}else if(s==Ma){t.s=4,ue(15),st(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else st(t.j,t.m,s,null),ts(t,s);La(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,ue(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ws(e),e.M=!0,ue(11))):(st(t.j,t.m,n,"[Invalid Chunked Response]"),ze(t),Ot(t))}v.mb=function(){if(this.g){var t=Ae(this.g),e=this.g.ja();this.o<e.length&&(or(this),qa(this,t,e),this.i&&t!=4&&ln(this))}};function Mh(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Zr:(n=Number(e.substring(n,r)),isNaN(n)?Ma:(r+=1,r+n>e.length?Zr:(e=e.slice(r,r+n),t.o=r+n,e)))}v.cancel=function(){this.J=!0,ze(this)};function ln(t){t.Y=Date.now()+t.P,Fa(t,t.P)}function Fa(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=sn(ie(t.lb,t),e)}function or(t){t.C&&(I.clearTimeout(t.C),t.C=null)}v.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(Nh(this.j,this.B),this.L!=2&&(Qt(),ue(17)),ze(this),this.s=2,Ot(this)):Fa(this,this.Y-t)};function Ot(t){t.l.H==0||t.J||al(t.l,t)}function ze(t){or(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Fs(t.V),Sa(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function ts(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||ns(n.i,t))){if(!t.K&&ns(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Fn(n),hr(n);else break e;Qs(n),ue(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=sn(ie(n.ib,n),6e3));if(1>=Ka(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else He(n,11)}else if((t.K||n.g==t)&&Fn(n),!jt(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let u=s[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const h=u[3];h!=null&&(n.ra=h,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const m=u[5];m!=null&&typeof m=="number"&&0<m&&(r=1.5*m,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const y=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var i=r.i;i.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(zs(i,i.h),i.h=null))}if(r.F){const T=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;T&&(r.Da=T,O(r.I,r.F,T))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=ul(r,r.J?r.pa:null,r.Y),o.K){Qa(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(or(a),ln(a)),r.g=o}else il(r);0<n.j.length&&dr(n)}else u[0]!="stop"&&u[0]!="close"||He(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?He(n,7):Ks(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Qt(4)}catch{}}function Oh(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Xn(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Lh(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Xn(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Ba(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Xn(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Lh(t),r=Oh(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var $a=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qh(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Ke(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ke){this.h=t.h,Ln(this,t.j),this.s=t.s,this.g=t.g,qn(this,t.m),this.l=t.l;var e=t.i,n=new Wt;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ao(this,n),this.o=t.o}else t&&(e=String(t).match($a))?(this.h=!1,Ln(this,e[1]||"",!0),this.s=Pt(e[2]||""),this.g=Pt(e[3]||"",!0),qn(this,e[4]),this.l=Pt(e[5]||"",!0),ao(this,e[6]||"",!0),this.o=Pt(e[7]||"")):(this.h=!1,this.i=new Wt(null,this.h))}Ke.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Vt(e,lo,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Vt(e,lo,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Vt(n,n.charAt(0)=="/"?$h:Bh,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Vt(n,jh)),t.join("")};function be(t){return new Ke(t)}function Ln(t,e,n){t.j=n?Pt(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function qn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ao(t,e,n){e instanceof Wt?(t.i=e,zh(t.i,t.h)):(n||(e=Vt(e,Uh)),t.i=new Wt(e,t.h))}function O(t,e,n){t.i.set(e,n)}function ar(t){return O(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Pt(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Vt(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Fh),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Fh(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var lo=/[#\/\?@]/g,Bh=/[#\?:]/g,$h=/[#\?]/g,Uh=/[#\?@]/g,jh=/#/g;function Wt(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function je(t){t.g||(t.g=new Map,t.h=0,t.i&&qh(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}v=Wt.prototype;v.add=function(t,e){je(this),this.i=null,t=vt(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Ua(t,e){je(t),e=vt(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function ja(t,e){return je(t),e=vt(t,e),t.g.has(e)}v.forEach=function(t,e){je(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};v.ta=function(){je(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};v.Z=function(t){je(this);let e=[];if(typeof t=="string")ja(this,t)&&(e=e.concat(this.g.get(vt(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};v.set=function(t,e){return je(this),this.i=null,t=vt(this,t),ja(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};v.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function za(t,e,n){Ua(t,e),0<n.length&&(t.i=null,t.g.set(vt(t,e),Ps(n)),t.h+=n.length)}v.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function vt(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function zh(t,e){e&&!t.j&&(je(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(Ua(this,r),za(this,s,n))},t)),t.j=e}var Hh=class{constructor(t,e){this.g=t,this.map=e}};function Ha(t){this.l=t||Gh,I.PerformanceNavigationTiming?(t=I.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(I.g&&I.g.Ka&&I.g.Ka()&&I.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Gh=10;function Ga(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Ka(t){return t.h?1:t.g?t.g.size:0}function ns(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function zs(t,e){t.g?t.g.add(e):t.h=e}function Qa(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Ha.prototype.cancel=function(){if(this.i=Wa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Wa(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Ps(t.i)}var Kh=class{stringify(t){return I.JSON.stringify(t,void 0)}parse(t){return I.JSON.parse(t,void 0)}};function Qh(){this.g=new Kh}function Wh(t,e,n){const r=n||"";try{Ba(t,function(s,i){let o=s;nn(s)&&(o=Ls(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function Yh(t,e){const n=new nr;if(I.Image){const r=new Image;r.onload=_n(vn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=_n(vn,n,r,"TestLoadImage: error",!1,e),r.onabort=_n(vn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=_n(vn,n,r,"TestLoadImage: timeout",!1,e),I.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function vn(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function lr(t){this.l=t.ec||null,this.j=t.ob||!1}Y(lr,$s);lr.prototype.g=function(){return new cr(this.l,this.j)};lr.prototype.i=function(t){return function(){return t}}({});function cr(t,e){W.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Hs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Y(cr,W);var Hs=0;v=cr.prototype;v.open=function(t,e){if(this.readyState!=Hs)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Yt(this)};v.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||I).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};v.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cn(this)),this.readyState=Hs};v.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Yt(this)),this.g&&(this.readyState=3,Yt(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof I.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ya(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Ya(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}v.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?cn(this):Yt(this),this.readyState==3&&Ya(this)}};v.Za=function(t){this.g&&(this.response=this.responseText=t,cn(this))};v.Ya=function(t){this.g&&(this.response=t,cn(this))};v.ka=function(){this.g&&cn(this)};function cn(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Yt(t)}v.setRequestHeader=function(t,e){this.v.append(t,e)};v.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};v.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Yt(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Xh=I.JSON.parse;function q(t){W.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Xa,this.L=this.M=!1}Y(q,W);var Xa="",Jh=/^https?$/i,Zh=["POST","PUT"];v=q.prototype;v.Oa=function(t){this.M=t};v.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Jr.g(),this.C=this.u?oo(this.u):oo(Jr),this.g.onreadystatechange=ie(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){co(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=I.FormData&&t instanceof I.FormData,!(0<=ma(Zh,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{el(this),0<this.B&&((this.L=ed(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ie(this.ua,this)):this.A=Bs(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){co(this,i)}};function ed(t){return ut&&typeof t.timeout=="number"&&t.ontimeout!==void 0}v.ua=function(){typeof bs<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Z(this,"timeout"),this.abort(8))};function co(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Ja(t),ur(t)}function Ja(t){t.F||(t.F=!0,Z(t,"complete"),Z(t,"error"))}v.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Z(this,"complete"),Z(this,"abort"),ur(this))};v.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ur(this,!0)),q.$.N.call(this)};v.La=function(){this.s||(this.G||this.v||this.l?Za(this):this.kb())};v.kb=function(){Za(this)};function Za(t){if(t.h&&typeof bs<"u"&&(!t.C[1]||Ae(t)!=4||t.da()!=2)){if(t.v&&Ae(t)==4)Bs(t.La,0,t);else if(Z(t,"readystatechange"),Ae(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match($a)[1]||null;!s&&I.self&&I.self.location&&(s=I.self.location.protocol.slice(0,-1)),r=!Jh.test(s?s.toLowerCase():"")}n=r}if(n)Z(t,"complete"),Z(t,"success");else{t.m=6;try{var i=2<Ae(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",Ja(t)}}finally{ur(t)}}}}function ur(t,e){if(t.g){el(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Z(t,"ready");try{n.onreadystatechange=r}catch{}}}function el(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(I.clearTimeout(t.A),t.A=null)}v.isActive=function(){return!!this.g};function Ae(t){return t.g?t.g.readyState:0}v.da=function(){try{return 2<Ae(this)?this.g.status:-1}catch{return-1}};v.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};v.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Xh(e)}};function uo(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Xa:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function td(t){const e={};t=(t.g&&2<=Ae(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(jt(t[r]))continue;var n=Rh(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}vh(e,function(r){return r.join(", ")})}v.Ia=function(){return this.m};v.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function tl(t){let e="";return Ns(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Gs(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=tl(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):O(t,e,n))}function Ct(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function nl(t){this.Ga=0,this.j=[],this.l=new nr,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ct("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ct("baseRetryDelayMs",5e3,t),this.hb=Ct("retryDelaySeedMs",1e4,t),this.eb=Ct("forwardChannelMaxRetries",2,t),this.xa=Ct("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Ha(t&&t.concurrentRequestLimit),this.Ja=new Qh,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}v=nl.prototype;v.ra=8;v.H=1;function Ks(t){if(rl(t),t.H==3){var e=t.W++,n=be(t.I);if(O(n,"SID",t.K),O(n,"RID",e),O(n,"TYPE","terminate"),un(t,n),e=new an(t,t.l,e),e.L=2,e.A=ar(be(n)),n=!1,I.navigator&&I.navigator.sendBeacon)try{n=I.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&I.Image&&(new Image().src=e.A,n=!0),n||(e.g=hl(e.l,null),e.g.ha(e.A)),e.G=Date.now(),ln(e)}cl(t)}function hr(t){t.g&&(Ws(t),t.g.cancel(),t.g=null)}function rl(t){hr(t),t.u&&(I.clearTimeout(t.u),t.u=null),Fn(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&I.clearTimeout(t.m),t.m=null)}function dr(t){if(!Ga(t.i)&&!t.m){t.m=!0;var e=t.Na;Ht||Ia(),Gt||(Ht(),Gt=!0),qs.add(e,t),t.C=0}}function nd(t,e){return Ka(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=sn(ie(t.Na,t,e),ll(t,t.C)),t.C++,!0)}v.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new an(this,this.l,t);let i=this.s;if(this.U&&(i?(i=_a(i),ya(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=sl(this,s,e),n=be(this.I),O(n,"RID",t),O(n,"CVER",22),this.F&&O(n,"X-HTTP-Session-Id",this.F),un(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(tl(i)))+"&"+e:this.o&&Gs(n,this.o,i)),zs(this.i,s),this.bb&&O(n,"TYPE","init"),this.P?(O(n,"$req",e),O(n,"SID","null"),s.aa=!0,es(s,n,null)):es(s,n,e),this.H=2}}else this.H==3&&(t?ho(this,t):this.j.length==0||Ga(this.i)||ho(this))};function ho(t,e){var n;e?n=e.m:n=t.W++;const r=be(t.I);O(r,"SID",t.K),O(r,"RID",n),O(r,"AID",t.V),un(t,r),t.o&&t.s&&Gs(r,t.o,t.s),n=new an(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=sl(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),zs(t.i,n),es(n,r,e)}function un(t,e){t.na&&Ns(t.na,function(n,r){O(e,r,n)}),t.h&&Ba({},function(n,r){O(e,r,n)})}function sl(t,e,n){n=Math.min(t.j.length,n);var r=t.h?ie(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let u=s[l].g;const h=s[l].map;if(u-=i,0>u)i=Math.max(0,s[l].g-100),a=!1;else try{Wh(h,o,"req"+u+"_")}catch{r&&r(h)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function il(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ht||Ia(),Gt||(Ht(),Gt=!0),qs.add(e,t),t.A=0}}function Qs(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=sn(ie(t.Ma,t),ll(t,t.A)),t.A++,!0)}v.Ma=function(){if(this.u=null,ol(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=sn(ie(this.jb,this),t)}};v.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ue(10),hr(this),ol(this))};function Ws(t){t.B!=null&&(I.clearTimeout(t.B),t.B=null)}function ol(t){t.g=new an(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=be(t.wa);O(e,"RID","rpc"),O(e,"SID",t.K),O(e,"AID",t.V),O(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&O(e,"TO",t.qa),O(e,"TYPE","xmlhttp"),un(t,e),t.o&&t.s&&Gs(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=ar(be(e)),n.u=null,n.S=!0,Oa(n,t)}v.ib=function(){this.v!=null&&(this.v=null,hr(this),Qs(this),ue(19))};function Fn(t){t.v!=null&&(I.clearTimeout(t.v),t.v=null)}function al(t,e){var n=null;if(t.g==e){Fn(t),Ws(t),t.g=null;var r=2}else if(ns(t.i,e))n=e.F,Qa(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var s=t.C;r=rr(),Z(r,new Va(r,n)),dr(t)}else il(t);else if(s=e.s,s==3||s==0&&0<e.ca||!(r==1&&nd(t,e)||r==2&&Qs(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:He(t,5);break;case 4:He(t,10);break;case 3:He(t,6);break;default:He(t,2)}}}function ll(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function He(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=ie(t.pb,t);n||(n=new Ke("//www.google.com/images/cleardot.gif"),I.location&&I.location.protocol=="http"||Ln(n,"https"),ar(n)),Yh(n.toString(),r)}else ue(2);t.H=0,t.h&&t.h.za(e),cl(t),rl(t)}v.pb=function(t){t?(this.l.info("Successfully pinged google.com"),ue(2)):(this.l.info("Failed to ping google.com"),ue(1))};function cl(t){if(t.H=0,t.ma=[],t.h){const e=Wa(t.i);(e.length!=0||t.j.length!=0)&&(to(t.ma,e),to(t.ma,t.j),t.i.i.length=0,Ps(t.j),t.j.length=0),t.h.ya()}}function ul(t,e,n){var r=n instanceof Ke?be(n):new Ke(n);if(r.g!="")e&&(r.g=e+"."+r.g),qn(r,r.m);else{var s=I.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new Ke(null);r&&Ln(i,r),e&&(i.g=e),s&&qn(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&O(r,n,e),O(r,"VER",t.ra),un(t,r),r}function hl(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new q(new lr({ob:n})):new q(t.va),e.Oa(t.J),e}v.isActive=function(){return!!this.h&&this.h.isActive(this)};function dl(){}v=dl.prototype;v.Ba=function(){};v.Aa=function(){};v.za=function(){};v.ya=function(){};v.isActive=function(){return!0};v.Va=function(){};function Bn(){if(ut&&!(10<=Number(ph)))throw Error("Environmental error: no available transport.")}Bn.prototype.g=function(t,e){return new me(t,e)};function me(t,e){W.call(this),this.g=new nl(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!jt(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!jt(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Et(this)}Y(me,W);me.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;ue(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=ul(t,null,t.Y),dr(t)};me.prototype.close=function(){Ks(this.g)};me.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Ls(t),t=n);e.j.push(new Hh(e.fb++,t)),e.H==3&&dr(e)};me.prototype.N=function(){this.g.h=null,delete this.j,Ks(this.g),delete this.g,me.$.N.call(this)};function ml(t){Us.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Y(ml,Us);function fl(){js.call(this),this.status=1}Y(fl,js);function Et(t){this.g=t}Y(Et,dl);Et.prototype.Ba=function(){Z(this.g,"a")};Et.prototype.Aa=function(t){Z(this.g,new ml(t))};Et.prototype.za=function(t){Z(this.g,new fl)};Et.prototype.ya=function(){Z(this.g,"b")};function rd(){this.blockSize=-1}function _e(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Y(_e,rd);_e.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Or(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}_e.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)Or(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){Or(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){Or(this,r),s=0;break}}this.h=s,this.i+=e};_e.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function M(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var sd={};function Ys(t){return-128<=t&&128>t?dh(t,function(e){return new M([e|0],0>e?-1:0)}):new M([t|0],0>t?-1:0)}function xe(t){if(isNaN(t)||!isFinite(t))return it;if(0>t)return J(xe(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=rs;return new M(e,0)}function pl(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return J(pl(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=xe(Math.pow(e,8)),r=it,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=xe(Math.pow(e,i)),r=r.R(i).add(xe(o))):(r=r.R(n),r=r.add(xe(o)))}return r}var rs=4294967296,it=Ys(0),ss=Ys(1),mo=Ys(16777216);v=M.prototype;v.ea=function(){if(ge(this))return-J(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:rs+r)*e,e*=rs}return t};v.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Se(this))return"0";if(ge(this))return"-"+J(this).toString(t);for(var e=xe(Math.pow(t,6)),n=this,r="";;){var s=Un(n,e).g;n=$n(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Se(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};v.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Se(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function ge(t){return t.h==-1}v.X=function(t){return t=$n(this,t),ge(t)?-1:Se(t)?0:1};function J(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new M(n,~t.h).add(ss)}v.abs=function(){return ge(this)?J(this):this};v.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new M(n,n[n.length-1]&-2147483648?-1:0)};function $n(t,e){return t.add(J(e))}v.R=function(t){if(Se(this)||Se(t))return it;if(ge(this))return ge(t)?J(this).R(J(t)):J(J(this).R(t));if(ge(t))return J(this.R(J(t)));if(0>this.X(mo)&&0>t.X(mo))return xe(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=o*l,En(n,2*r+2*s),n[2*r+2*s+1]+=i*l,En(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,En(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,En(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new M(n,0)};function En(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function St(t,e){this.g=t,this.h=e}function Un(t,e){if(Se(e))throw Error("division by zero");if(Se(t))return new St(it,it);if(ge(t))return e=Un(J(t),e),new St(J(e.g),J(e.h));if(ge(e))return e=Un(t,J(e)),new St(J(e.g),e.h);if(30<t.g.length){if(ge(t)||ge(e))throw Error("slowDivide_ only works with positive integers.");for(var n=ss,r=e;0>=r.X(t);)n=fo(n),r=fo(r);var s=et(n,1),i=et(r,1);for(r=et(r,2),n=et(n,2);!Se(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=et(r,1),n=et(n,1)}return e=$n(t,s.R(e)),new St(s,e)}for(s=it;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=xe(n),o=i.R(e);ge(o)||0<o.X(t);)n-=r,i=xe(n),o=i.R(e);Se(i)&&(i=ss),s=s.add(i),t=$n(t,o)}return new St(s,t)}v.gb=function(t){return Un(this,t).h};v.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new M(n,this.h&t.h)};v.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new M(n,this.h|t.h)};v.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new M(n,this.h^t.h)};function fo(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new M(n,t.h)}function et(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new M(s,t.h)}Bn.prototype.createWebChannel=Bn.prototype.g;me.prototype.send=me.prototype.u;me.prototype.open=me.prototype.m;me.prototype.close=me.prototype.close;sr.NO_ERROR=0;sr.TIMEOUT=8;sr.HTTP_ERROR=6;Na.COMPLETE="complete";Da.EventType=on;on.OPEN="a";on.CLOSE="b";on.ERROR="c";on.MESSAGE="d";W.prototype.listen=W.prototype.O;q.prototype.listenOnce=q.prototype.P;q.prototype.getLastError=q.prototype.Sa;q.prototype.getLastErrorCode=q.prototype.Ia;q.prototype.getStatus=q.prototype.da;q.prototype.getResponseJson=q.prototype.Wa;q.prototype.getResponseText=q.prototype.ja;q.prototype.send=q.prototype.ha;q.prototype.setWithCredentials=q.prototype.Oa;_e.prototype.digest=_e.prototype.l;_e.prototype.reset=_e.prototype.reset;_e.prototype.update=_e.prototype.j;M.prototype.add=M.prototype.add;M.prototype.multiply=M.prototype.R;M.prototype.modulo=M.prototype.gb;M.prototype.compare=M.prototype.X;M.prototype.toNumber=M.prototype.ea;M.prototype.toString=M.prototype.toString;M.prototype.getBits=M.prototype.D;M.fromNumber=xe;M.fromString=pl;var id=function(){return new Bn},od=function(){return rr()},Lr=sr,ad=Na,ld=Ze,po={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},wn=Da,cd=q,ud=_e,ot=M;const go="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}he.UNAUTHENTICATED=new he(null),he.GOOGLE_CREDENTIALS=new he("google-credentials-uid"),he.FIRST_PARTY=new he("first-party-uid"),he.MOCK_USER=new he("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wt="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye=new la("@firebase/firestore");function bt(){return Ye.logLevel}function A(t,...e){if(Ye.logLevel<=P.DEBUG){const n=e.map(Xs);Ye.debug(`Firestore (${wt}): ${t}`,...n)}}function Pe(t,...e){if(Ye.logLevel<=P.ERROR){const n=e.map(Xs);Ye.error(`Firestore (${wt}): ${t}`,...n)}}function Xt(t,...e){if(Ye.logLevel<=P.WARN){const n=e.map(Xs);Ye.warn(`Firestore (${wt}): ${t}`,...n)}}function Xs(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C(t="Unexpected state"){const e=`FIRESTORE (${wt}) INTERNAL ASSERTION FAILED: `+t;throw Pe(e),new Error(e)}function j(t,e){t||C()}function N(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class w extends yt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dd{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(he.UNAUTHENTICATED))}shutdown(){}}class md{constructor(e){this.t=e,this.currentUser=he.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Le;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Le,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{A("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(A("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Le)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(A("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(j(typeof r.accessToken=="string"),new hd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return j(e===null||typeof e=="string"),new he(e)}}class fd{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=he.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class pd{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new fd(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(he.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gd{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _d{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&A("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,A("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{A("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):A("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(j(typeof n.token=="string"),this.R=n.token,new gd(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=yd(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function k(t,e){return t<e?-1:t>e?1:0}function ht(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new w(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new w(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new w(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new w(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Q.fromMillis(Date.now())}static fromDate(e){return Q.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Q(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?k(this.nanoseconds,e.nanoseconds):k(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R{constructor(e){this.timestamp=e}static fromTimestamp(e){return new R(e)}static min(){return new R(new Q(0,0))}static max(){return new R(new Q(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n,r){n===void 0?n=0:n>e.length&&C(),r===void 0?r=e.length-n:r>e.length-n&&C(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Jt.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Jt?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class L extends Jt{construct(e,n,r){return new L(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new w(_.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new L(n)}static emptyPath(){return new L([])}}const vd=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class se extends Jt{construct(e,n,r){return new se(e,n,r)}static isValidIdentifier(e){return vd.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),se.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new se(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new w(_.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new w(_.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new w(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new w(_.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new se(n)}static emptyPath(){return new se([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x{constructor(e){this.path=e}static fromPath(e){return new x(L.fromString(e))}static fromName(e){return new x(L.fromString(e).popFirst(5))}static empty(){return new x(L.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&L.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return L.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new x(new L(e.slice()))}}function Ed(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=R.fromTimestamp(r===1e9?new Q(n+1,0):new Q(n,r));return new Fe(s,x.empty(),e)}function wd(t){return new Fe(t.readTime,t.key,-1)}class Fe{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fe(R.min(),x.empty(),-1)}static max(){return new Fe(R.max(),x.empty(),-1)}}function Td(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=x.comparator(t.documentKey,e.documentKey),n!==0?n:k(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xd{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Js(t){if(t.code!==_.FAILED_PRECONDITION||t.message!==Ad)throw t;A("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&C(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new g((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof g?n:g.resolve(n)}catch(n){return g.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):g.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):g.reject(n)}static resolve(e){return new g((n,r)=>{n(e)})}static reject(e){return new g((n,r)=>{r(e)})}static waitFor(e){return new g((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=g.resolve(!1);for(const r of e)n=n.next(s=>s?g.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new g((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(h=>{o[u]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new g((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function hn(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Zs._e=-1;function mr(t){return t==null}function jn(t){return t===0&&1/t==-1/0}function Id(t){return typeof t=="number"&&Number.isInteger(t)&&!jn(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function dn(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _l(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e,n){this.comparator=e,this.root=n||X.EMPTY}insert(e,n){return new F(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,X.BLACK,null,null))}remove(e){return new F(this.comparator,this.root.remove(e,this.comparator).copy(null,null,X.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tn(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tn(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tn(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tn(this.root,e,this.comparator,!0)}}class Tn{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class X{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??X.RED,this.left=s??X.EMPTY,this.right=i??X.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new X(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return X.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return X.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,X.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,X.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw C();const e=this.left.check();if(e!==this.right.check())throw C();return e+(this.isRed()?0:1)}}X.EMPTY=null,X.RED=!0,X.BLACK=!1;X.EMPTY=new class{constructor(){this.size=0}get key(){throw C()}get value(){throw C()}get color(){throw C()}get left(){throw C()}get right(){throw C()}copy(e,n,r,s,i){return this}insert(e,n,r){return new X(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.comparator=e,this.data=new F(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yo(this.data.getIterator())}getIteratorFrom(e){return new yo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ee)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ee(this.comparator);return n.data=e,n}}class yo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.fields=e,e.sort(se.comparator)}static empty(){return new ke([])}unionWith(e){let n=new ee(se.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ke(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ht(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new yl("Invalid base64 string: "+i):i}}(e);return new ae(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new ae(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return k(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ae.EMPTY_BYTE_STRING=new ae("");const Rd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Be(t){if(j(!!t),typeof t=="string"){let e=0;const n=Rd.exec(t);if(j(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$(t.seconds),nanos:$(t.nanos)}}function $(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xe(t){return typeof t=="string"?ae.fromBase64String(t):ae.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ti(t){const e=t.mapValue.fields.__previous_value__;return ei(e)?ti(e):e}function Zt(t){const e=Be(t.mapValue.fields.__local_write_time__.timestampValue);return new Q(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n,r,s,i,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class en{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new en("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof en&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Je(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ei(t)?4:Sd(t)?9007199254740991:10:C()}function Ce(t,e){if(t===e)return!0;const n=Je(t);if(n!==Je(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zt(t).isEqual(Zt(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Be(s.timestampValue),a=Be(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Xe(s.bytesValue).isEqual(Xe(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return $(s.geoPointValue.latitude)===$(i.geoPointValue.latitude)&&$(s.geoPointValue.longitude)===$(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return $(s.integerValue)===$(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=$(s.doubleValue),a=$(i.doubleValue);return o===a?jn(o)===jn(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ht(t.arrayValue.values||[],e.arrayValue.values||[],Ce);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(_o(o)!==_o(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ce(o[l],a[l])))return!1;return!0}(t,e);default:return C()}}function tn(t,e){return(t.values||[]).find(n=>Ce(n,e))!==void 0}function dt(t,e){if(t===e)return 0;const n=Je(t),r=Je(e);if(n!==r)return k(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return k(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=$(i.integerValue||i.doubleValue),l=$(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return vo(t.timestampValue,e.timestampValue);case 4:return vo(Zt(t),Zt(e));case 5:return k(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Xe(i),l=Xe(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=k(a[u],l[u]);if(h!==0)return h}return k(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=k($(i.latitude),$(o.latitude));return a!==0?a:k($(i.longitude),$(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const a=i.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const h=dt(a[u],l[u]);if(h)return h}return k(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===An.mapValue&&o===An.mapValue)return 0;if(i===An.mapValue)return 1;if(o===An.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const m=k(l[d],h[d]);if(m!==0)return m;const f=dt(a[l[d]],u[h[d]]);if(f!==0)return f}return k(l.length,h.length)}(t.mapValue,e.mapValue);default:throw C()}}function vo(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return k(t,e);const n=Be(t),r=Be(e),s=k(n.seconds,r.seconds);return s!==0?s:k(n.nanos,r.nanos)}function mt(t){return is(t)}function is(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Be(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Xe(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return x.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=is(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${is(n.fields[o])}`;return s+"}"}(t.mapValue):C()}function Eo(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function os(t){return!!t&&"integerValue"in t}function ni(t){return!!t&&"arrayValue"in t}function wo(t){return!!t&&"nullValue"in t}function To(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qr(t){return!!t&&"mapValue"in t}function Lt(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return dn(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Lt(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Lt(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Sd(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.value=e}static empty(){return new we({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!qr(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lt(n)}setAll(e){let n=se.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Lt(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());qr(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ce(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];qr(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){dn(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new we(Lt(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new re(e,0,R.min(),R.min(),R.min(),we.empty(),0)}static newFoundDocument(e,n,r,s){return new re(e,1,n,R.min(),r,s,0)}static newNoDocument(e,n){return new re(e,2,n,R.min(),R.min(),we.empty(),0)}static newUnknownDocument(e,n){return new re(e,3,n,R.min(),R.min(),we.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(R.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=we.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=we.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=R.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof re&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new re(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,n){this.position=e,this.inclusive=n}}function Ao(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=x.comparator(x.fromName(o.referenceValue),n.key):r=dt(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function xo(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ce(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e,n="asc"){this.field=e,this.dir=n}}function bd(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{}class U extends vl{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Vd(e,n,r):n==="array-contains"?new kd(e,r):n==="in"?new Md(e,r):n==="not-in"?new Od(e,r):n==="array-contains-any"?new Ld(e,r):new U(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Nd(e,r):new Dd(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(dt(n,this.value)):n!==null&&Je(this.value)===Je(n)&&this.matchesComparison(dt(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return C()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ye extends vl{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new ye(e,n)}matches(e){return El(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function El(t){return t.op==="and"}function wl(t){return Pd(t)&&El(t)}function Pd(t){for(const e of t.filters)if(e instanceof ye)return!1;return!0}function as(t){if(t instanceof U)return t.field.canonicalString()+t.op.toString()+mt(t.value);if(wl(t))return t.filters.map(e=>as(e)).join(",");{const e=t.filters.map(n=>as(n)).join(",");return`${t.op}(${e})`}}function Tl(t,e){return t instanceof U?function(r,s){return s instanceof U&&r.op===s.op&&r.field.isEqual(s.field)&&Ce(r.value,s.value)}(t,e):t instanceof ye?function(r,s){return s instanceof ye&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&Tl(o,s.filters[a]),!0):!1}(t,e):void C()}function Al(t){return t instanceof U?function(n){return`${n.field.canonicalString()} ${n.op} ${mt(n.value)}`}(t):t instanceof ye?function(n){return n.op.toString()+" {"+n.getFilters().map(Al).join(" ,")+"}"}(t):"Filter"}class Vd extends U{constructor(e,n,r){super(e,n,r),this.key=x.fromName(r.referenceValue)}matches(e){const n=x.comparator(e.key,this.key);return this.matchesComparison(n)}}class Nd extends U{constructor(e,n){super(e,"in",n),this.keys=xl("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Dd extends U{constructor(e,n){super(e,"not-in",n),this.keys=xl("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function xl(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>x.fromName(r.referenceValue))}class kd extends U{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ni(n)&&tn(n.arrayValue,this.value)}}class Md extends U{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&tn(this.value.arrayValue,n)}}class Od extends U{constructor(e,n){super(e,"not-in",n)}matches(e){if(tn(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!tn(this.value.arrayValue,n)}}class Ld extends U{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ni(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>tn(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ce=null}}function Io(t,e=null,n=[],r=[],s=null,i=null,o=null){return new qd(t,e,n,r,s,i,o)}function ri(t){const e=N(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>as(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),mr(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>mt(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>mt(r)).join(",")),e.ce=n}return e.ce}function si(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!bd(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Tl(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!xo(t.startAt,e.startAt)&&xo(t.endAt,e.endAt)}function ls(t){return x.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Fd(t,e,n,r,s,i,o,a){return new mn(t,e,n,r,s,i,o,a)}function ii(t){return new mn(t)}function Ro(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Il(t){return t.collectionGroup!==null}function qt(t){const e=N(t);if(e.le===null){e.le=[];const n=new Set;for(const i of e.explicitOrderBy)e.le.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ee(se.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.le.push(new Hn(i,r))}),n.has(se.keyField().canonicalString())||e.le.push(new Hn(se.keyField(),r))}return e.le}function Ie(t){const e=N(t);return e.he||(e.he=Bd(e,qt(t))),e.he}function Bd(t,e){if(t.limitType==="F")return Io(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Hn(s.field,i)});const n=t.endAt?new zn(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zn(t.startAt.position,t.startAt.inclusive):null;return Io(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function cs(t,e){const n=t.filters.concat([e]);return new mn(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function us(t,e,n){return new mn(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fr(t,e){return si(Ie(t),Ie(e))&&t.limitType===e.limitType}function Rl(t){return`${ri(Ie(t))}|lt:${t.limitType}`}function tt(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Al(s)).join(", ")}]`),mr(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>mt(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>mt(s)).join(",")),`Target(${r})`}(Ie(t))}; limitType=${t.limitType})`}function pr(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):x.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of qt(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=Ao(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,qt(r),s)||r.endAt&&!function(o,a,l){const u=Ao(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,qt(r),s))}(t,e)}function $d(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Cl(t){return(e,n)=>{let r=!1;for(const s of qt(t)){const i=Ud(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function Ud(t,e,n){const r=t.field.isKeyField()?x.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?dt(l,u):C()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return C()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){dn(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return _l(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd=new F(x.comparator);function $e(){return jd}const Sl=new F(x.comparator);function Nt(...t){let e=Sl;for(const n of t)e=e.insert(n.key,n);return e}function zd(t){let e=Sl;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ge(){return Ft()}function bl(){return Ft()}function Ft(){return new Tt(t=>t.toString(),(t,e)=>t.isEqual(e))}new F(x.comparator);const Hd=new ee(x.comparator);function V(...t){let e=Hd;for(const n of t)e=e.add(n);return e}const Gd=new ee(k);function Kd(){return Gd}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jn(e)?"-0":e}}function Vl(t){return{integerValue:""+t}}function Qd(t,e){return Id(e)?Vl(e):Pl(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(){this._=void 0}}function Wd(t,e,n){return t instanceof hs?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&ei(i)&&(i=ti(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Gn?Nl(t,e):t instanceof Kn?Dl(t,e):function(s,i){const o=Xd(s,i),a=Co(o)+Co(s.Ie);return os(o)&&os(s.Ie)?Vl(a):Pl(s.serializer,a)}(t,e)}function Yd(t,e,n){return t instanceof Gn?Nl(t,e):t instanceof Kn?Dl(t,e):n}function Xd(t,e){return t instanceof ds?function(r){return os(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class hs extends gr{}class Gn extends gr{constructor(e){super(),this.elements=e}}function Nl(t,e){const n=kl(e);for(const r of t.elements)n.some(s=>Ce(s,r))||n.push(r);return{arrayValue:{values:n}}}class Kn extends gr{constructor(e){super(),this.elements=e}}function Dl(t,e){let n=kl(e);for(const r of t.elements)n=n.filter(s=>!Ce(s,r));return{arrayValue:{values:n}}}class ds extends gr{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Co(t){return $(t.integerValue||t.doubleValue)}function kl(t){return ni(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Jd(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Gn&&s instanceof Gn||r instanceof Kn&&s instanceof Kn?ht(r.elements,s.elements,Ce):r instanceof ds&&s instanceof ds?Ce(r.Ie,s.Ie):r instanceof hs&&s instanceof hs}(t.transform,e.transform)}class Qe{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qe}static exists(e){return new Qe(void 0,e)}static updateTime(e){return new Qe(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function In(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class oi{}function Ml(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new em(t.key,Qe.none()):new ai(t.key,t.data,Qe.none());{const n=t.data,r=we.empty();let s=new ee(se.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new _r(t.key,r,new ke(s.toArray()),Qe.none())}}function Zd(t,e,n){t instanceof ai?function(s,i,o){const a=s.value.clone(),l=bo(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof _r?function(s,i,o){if(!In(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=bo(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(Ol(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Bt(t,e,n,r){return t instanceof ai?function(i,o,a,l){if(!In(i.precondition,o))return a;const u=i.value.clone(),h=Po(i.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof _r?function(i,o,a,l){if(!In(i.precondition,o))return a;const u=Po(i.fieldTransforms,l,o),h=o.data;return h.setAll(Ol(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(i,o,a){return In(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function So(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ht(r,s,(i,o)=>Jd(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ai extends oi{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class _r extends oi{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ol(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function bo(t,e,n){const r=new Map;j(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,Yd(o,a,n[s]))}return r}function Po(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,Wd(i,o,e))}return r}class em extends oi{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&Zd(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bt(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Bt(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=bl();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=Ml(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(R.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),V())}isEqual(e){return this.batchId===e.batchId&&ht(this.mutations,e.mutations,(n,r)=>So(n,r))&&ht(this.baseMutations,e.baseMutations,(n,r)=>So(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var B,b;function Ll(t){if(t===void 0)return Pe("GRPC error has no .code"),_.UNKNOWN;switch(t){case B.OK:return _.OK;case B.CANCELLED:return _.CANCELLED;case B.UNKNOWN:return _.UNKNOWN;case B.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case B.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case B.INTERNAL:return _.INTERNAL;case B.UNAVAILABLE:return _.UNAVAILABLE;case B.UNAUTHENTICATED:return _.UNAUTHENTICATED;case B.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case B.NOT_FOUND:return _.NOT_FOUND;case B.ALREADY_EXISTS:return _.ALREADY_EXISTS;case B.PERMISSION_DENIED:return _.PERMISSION_DENIED;case B.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case B.ABORTED:return _.ABORTED;case B.OUT_OF_RANGE:return _.OUT_OF_RANGE;case B.UNIMPLEMENTED:return _.UNIMPLEMENTED;case B.DATA_LOSS:return _.DATA_LOSS;default:return C()}}(b=B||(B={}))[b.OK=0]="OK",b[b.CANCELLED=1]="CANCELLED",b[b.UNKNOWN=2]="UNKNOWN",b[b.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",b[b.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",b[b.NOT_FOUND=5]="NOT_FOUND",b[b.ALREADY_EXISTS=6]="ALREADY_EXISTS",b[b.PERMISSION_DENIED=7]="PERMISSION_DENIED",b[b.UNAUTHENTICATED=16]="UNAUTHENTICATED",b[b.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",b[b.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",b[b.ABORTED=10]="ABORTED",b[b.OUT_OF_RANGE=11]="OUT_OF_RANGE",b[b.UNIMPLEMENTED=12]="UNIMPLEMENTED",b[b.INTERNAL=13]="INTERNAL",b[b.UNAVAILABLE=14]="UNAVAILABLE",b[b.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im=new ot([4294967295,4294967295],0);function Vo(t){const e=sm().encode(t),n=new ud;return n.update(e),new Uint8Array(n.digest())}function No(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ot([n,r],0),new ot([s,i],0)]}class li{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Dt(`Invalid padding: ${n}`);if(r<0)throw new Dt(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Dt(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Dt(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=ot.fromNumber(this.Te)}de(e,n,r){let s=e.add(n.multiply(ot.fromNumber(r)));return s.compare(im)===1&&(s=new ot([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Vo(e),[r,s]=No(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new li(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=Vo(e),[r,s]=No(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Dt extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,fn.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new yr(R.min(),s,new F(k),$e(),V())}}class fn{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new fn(r,n,V(),V(),V())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,n,r,s){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=s}}class ql{constructor(e,n){this.targetId=e,this.fe=n}}class Fl{constructor(e,n,r=ae.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Do{constructor(){this.ge=0,this.pe=Mo(),this.ye=ae.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=V(),n=V(),r=V();return this.pe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:C()}}),new fn(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=Mo()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,j(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class om{constructor(e){this.Le=e,this.ke=new Map,this.qe=$e(),this.Qe=ko(),this.Ke=new F(k)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:C()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.fe.count,s=this.Ye(n);if(s){const i=s.target;if(ls(i))if(r===0){const o=new x(i.path);this.We(n,o,re.newNoDocument(o,R.min()))}else j(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Xe(r).toUint8Array()}catch(l){if(l instanceof yl)return Xt("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new li(o,s,i)}catch(l){return Xt(l instanceof Dt?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.We(n,i,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((i,o)=>{const a=this.Ye(o);if(a){if(i.current&&ls(a.target)){const l=new x(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,re.newNoDocument(l,e))}i.De&&(n.set(o,i.ve()),i.Fe())}});let r=V();this.Qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.qe.forEach((i,o)=>o.setReadTime(e));const s=new yr(e,n,this.Ke,this.qe,r);return this.qe=$e(),this.Qe=ko(),this.Ke=new F(k),s}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Do,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new ee(k),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||A("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Do),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function ko(){return new F(x.comparator)}function Mo(){return new F(x.comparator)}const am=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),lm=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),cm=(()=>({and:"AND",or:"OR"}))();class um{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ms(t,e){return t.useProto3Json||mr(e)?e:{value:e}}function fs(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Bl(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function at(t){return j(!!t),R.fromTimestamp(function(n){const r=Be(n);return new Q(r.seconds,r.nanos)}(t))}function $l(t,e){return function(r){return new L(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function Ul(t){const e=L.fromString(t);return j(Gl(e)),e}function Fr(t,e){const n=Ul(e);if(n.get(1)!==t.databaseId.projectId)throw new w(_.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new w(_.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new x(jl(n))}function ps(t,e){return $l(t.databaseId,e)}function hm(t){const e=Ul(t);return e.length===4?L.emptyPath():jl(e)}function Oo(t){return new L(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jl(t){return j(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function dm(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:C()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(j(h===void 0||typeof h=="string"),ae.fromBase64String(h||"")):(j(h===void 0||h instanceof Uint8Array),ae.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?_.UNKNOWN:Ll(u.code);return new w(h,u.message||"")}(o);n=new Fl(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Fr(t,r.document.name),i=at(r.document.updateTime),o=r.document.createTime?at(r.document.createTime):R.min(),a=new we({mapValue:{fields:r.document.fields}}),l=re.newFoundDocument(s,i,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new Rn(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Fr(t,r.document),i=r.readTime?at(r.readTime):R.min(),o=re.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Rn([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Fr(t,r.document),i=r.removedTargetIds||[];n=new Rn([],i,s,null)}else{if(!("filter"in e))return C();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new rm(s,i),a=r.targetId;n=new ql(a,o)}}return n}function mm(t,e){return{documents:[ps(t,e.path)]}}function fm(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=ps(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ps(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(l){if(l.length!==0)return Hl(ye.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const i=function(l){if(l.length!==0)return l.map(u=>function(d){return{field:nt(d.field),direction:_m(d.dir)}}(u))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=ms(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function pm(t){let e=hm(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){j(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(d){const m=zl(d);return m instanceof ye&&wl(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(m=>function(y){return new Hn(rt(y.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(d){let m;return m=typeof d=="object"?d.value:d,mr(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(d){const m=!!d.before,f=d.values||[];return new zn(f,m)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const m=!d.before,f=d.values||[];return new zn(f,m)}(n.endAt)),Fd(e,s,o,i,a,"F",l,u)}function gm(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return C()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zl(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=rt(n.unaryFilter.field);return U.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=rt(n.unaryFilter.field);return U.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=rt(n.unaryFilter.field);return U.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=rt(n.unaryFilter.field);return U.create(o,"!=",{nullValue:"NULL_VALUE"});default:return C()}}(t):t.fieldFilter!==void 0?function(n){return U.create(rt(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return C()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ye.create(n.compositeFilter.filters.map(r=>zl(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return C()}}(n.compositeFilter.op))}(t):C()}function _m(t){return am[t]}function ym(t){return lm[t]}function vm(t){return cm[t]}function nt(t){return{fieldPath:t.canonicalString()}}function rt(t){return se.fromServerFormat(t.fieldPath)}function Hl(t){return t instanceof U?function(n){if(n.op==="=="){if(To(n.value))return{unaryFilter:{field:nt(n.field),op:"IS_NAN"}};if(wo(n.value))return{unaryFilter:{field:nt(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(To(n.value))return{unaryFilter:{field:nt(n.field),op:"IS_NOT_NAN"}};if(wo(n.value))return{unaryFilter:{field:nt(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nt(n.field),op:ym(n.op),value:n.value}}}(t):t instanceof ye?function(n){const r=n.getFilters().map(s=>Hl(s));return r.length===1?r[0]:{compositeFilter:{op:vm(n.op),filters:r}}}(t):C()}function Gl(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,n,r,s,i=R.min(),o=R.min(),a=ae.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Me(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Me(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Me(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Me(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e){this.ut=e}}function wm(t){const e=pm({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?us(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(){this.on=new Am}addToCollectionParentIndex(e,n){return this.on.add(n),g.resolve()}getCollectionParents(e,n){return g.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return g.resolve()}deleteFieldIndex(e,n){return g.resolve()}deleteAllFieldIndexes(e){return g.resolve()}createTargetIndexes(e,n){return g.resolve()}getDocumentsMatchingTarget(e,n){return g.resolve(null)}getIndexType(e,n){return g.resolve(0)}getFieldIndexes(e,n){return g.resolve([])}getNextCollectionGroupToUpdate(e){return g.resolve(null)}getMinOffset(e,n){return g.resolve(Fe.min())}getMinOffsetFromCollectionGroup(e,n){return g.resolve(Fe.min())}updateCollectionGroup(e,n,r){return g.resolve()}updateIndexEntries(e,n){return g.resolve()}}class Am{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ee(L.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ee(L.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new ft(0)}static Nn(){return new ft(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(){this.changes=new Tt(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,re.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?g.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Bt(r.mutation,s,ke.empty(),Q.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,V()).next(()=>r))}getLocalViewOfDocuments(e,n,r=V()){const s=Ge();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Nt();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ge();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,V()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=$e();const o=Ft(),a=function(){return Ft()}();return n.forEach((l,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof _r)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),Bt(h.mutation,u,h.mutation.getFieldMask(),Q.now())):o.set(u.key,ke.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var d;return a.set(u,new Im(h,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ft();let s=new F((o,a)=>o-a),i=V();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||ke.empty();h=a.applyToLocalView(u,h),r.set(l,h);const d=(s.get(a.batchId)||V()).add(l);s=s.insert(a.batchId,d)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,d=bl();h.forEach(m=>{if(!i.has(m)){const f=Ml(n.get(m),r.get(m));f!==null&&d.set(m,f),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return g.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return x.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Il(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):g.resolve(Ge());let a=-1,l=i;return o.next(u=>g.forEach(u,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),i.get(h)?g.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{l=l.insert(h,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,V())).next(h=>({batchId:a,changes:zd(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new x(n)).next(r=>{let s=Nt();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Nt();return this.indexManager.getCollectionParents(e,i).next(a=>g.forEach(a,l=>{const u=function(d,m){return new mn(m,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(h=>{h.forEach((d,m)=>{o=o.insert(d,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,re.newInvalidDocument(h)))});let a=Nt();return o.forEach((l,u)=>{const h=i.get(l);h!==void 0&&Bt(h.mutation,u,ke.empty(),Q.now()),pr(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return g.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(s){return{id:s.id,version:s.version,createTime:at(s.createTime)}}(n)),g.resolve()}getNamedQuery(e,n){return g.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(s){return{name:s.name,query:wm(s.bundledQuery),readTime:at(s.readTime)}}(n)),g.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(){this.overlays=new F(x.comparator),this.lr=new Map}getOverlay(e,n){return g.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ge();return g.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.lt(e,n,i)}),g.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.lr.delete(r)),g.resolve()}getOverlaysForCollection(e,n,r){const s=Ge(),i=n.length+1,o=new x(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return g.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new F((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=Ge(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=Ge(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=s)););return g.resolve(a)}lt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.lr.get(s.largestBatchId).delete(r.key);this.lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new nm(n,r));let i=this.lr.get(n);i===void 0&&(i=V(),this.lr.set(n,i)),this.lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(){this.hr=new ee(K.Pr),this.Ir=new ee(K.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new K(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new K(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new x(new L([])),r=new K(n,e),s=new K(n,e+1),i=[];return this.Ir.forEachInRange([r,s],o=>{this.dr(o),i.push(o.key)}),i}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new x(new L([])),r=new K(n,e),s=new K(n,e+1);let i=V();return this.Ir.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new K(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class K{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return x.comparator(e.key,n.key)||k(e.gr,n.gr)}static Tr(e,n){return k(e.gr,n.gr)||x.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new ee(K.Pr)}checkEmpty(e){return g.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new tm(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.yr=this.yr.add(new K(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return g.resolve(o)}lookupMutationBatch(e,n){return g.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Sr(r),i=s<0?0:s;return g.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return g.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return g.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new K(n,0),s=new K(n,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([r,s],o=>{const a=this.wr(o.gr);i.push(a)}),g.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ee(k);return n.forEach(s=>{const i=new K(s,0),o=new K(s,Number.POSITIVE_INFINITY);this.yr.forEachInRange([i,o],a=>{r=r.add(a.gr)})}),g.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;x.isDocumentKey(i)||(i=i.child(""));const o=new K(new x(i),0);let a=new ee(k);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.gr)),!0)},o),g.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const s=this.wr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){j(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return g.forEach(n.mutations,s=>{const i=new K(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new K(n,0),s=this.yr.firstAfterOrEqual(r);return g.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,g.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e){this.Cr=e,this.docs=function(){return new F(x.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return g.resolve(r?r.document.mutableCopy():re.newInvalidDocument(n))}getEntries(e,n){let r=$e();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():re.newInvalidDocument(s))}),g.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=$e();const o=n.path,a=new x(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Td(wd(h),r)<=0||(s.has(h.key)||pr(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return g.resolve(i)}getAllFromCollectionGroup(e,n,r,s){C()}vr(e,n){return g.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Vm(this)}getSize(e){return g.resolve(this.size)}}class Vm extends xm{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this._r.addEntry(e,s)):this._r.removeEntry(r)}),g.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e){this.persistence=e,this.Fr=new Tt(n=>ri(n),si),this.lastRemoteSnapshotVersion=R.min(),this.highestTargetId=0,this.Mr=0,this.Or=new ci,this.targetCount=0,this.Nr=ft.On()}forEachTarget(e,n){return this.Fr.forEach((r,s)=>n(s)),g.resolve()}getLastRemoteSnapshotVersion(e){return g.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return g.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),g.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),g.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new ft(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,g.resolve()}updateTargetData(e,n){return this.kn(n),g.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,g.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),g.waitFor(i).next(()=>s)}getTargetCount(e){return g.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return g.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),g.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),g.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),g.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return g.resolve(r)}containsKey(e,n){return g.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Zs(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Nm(this),this.indexManager=new Tm,this.remoteDocumentCache=function(s){return new Pm(s)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new Em(n),this.Kr=new Cm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Sm,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new bm(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){A("MemoryPersistence","Starting transaction:",e);const s=new km(this.Lr.next());return this.referenceDelegate.$r(),r(s).next(i=>this.referenceDelegate.Ur(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Wr(e,n){return g.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class km extends xd{constructor(e){super(),this.currentSequenceNumber=e}}class ui{constructor(e){this.persistence=e,this.Gr=new ci,this.zr=null}static jr(e){return new ui(e)}get Hr(){if(this.zr)return this.zr;throw C()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),g.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),g.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),g.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(s=>this.Hr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Hr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return g.forEach(this.Hr,r=>{const s=x.fromPath(r);return this.Jr(e,s).next(i=>{i||n.removeEntry(s,R.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return g.or([()=>g.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=s}static Qi(e,n){let r=V(),s=V();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new hi(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.zi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ji(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new Mm;return this.Hi(e,n,o).next(a=>{if(i.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>i.result)}Ji(e,n,r,s){return r.documentReadCount<this.Ui?(bt()<=P.DEBUG&&A("QueryEngine","SDK will not create cache indexes for query:",tt(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),g.resolve()):(bt()<=P.DEBUG&&A("QueryEngine","Query:",tt(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Wi*s?(bt()<=P.DEBUG&&A("QueryEngine","The SDK decides to create cache indexes for query:",tt(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ie(n))):g.resolve())}zi(e,n){if(Ro(n))return g.resolve(null);let r=Ie(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=us(n,null,"F"),r=Ie(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=V(...i);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Yi(n,a);return this.Zi(n,u,o,l.readTime)?this.zi(e,us(n,null,"F")):this.Xi(e,u,n,l)}))})))}ji(e,n,r,s){return Ro(n)||s.isEqual(R.min())?g.resolve(null):this.Gi.getDocuments(e,r).next(i=>{const o=this.Yi(n,i);return this.Zi(n,o,r,s)?g.resolve(null):(bt()<=P.DEBUG&&A("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),tt(n)),this.Xi(e,o,n,Ed(s,-1)).next(a=>a))})}Yi(e,n){let r=new ee(Cl(e));return n.forEach((s,i)=>{pr(e,i)&&(r=r.add(i))}),r}Zi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Hi(e,n,r){return bt()<=P.DEBUG&&A("QueryEngine","Using full collection scan to execute query:",tt(n)),this.Gi.getDocumentsMatchingQuery(e,n,Fe.min(),r)}Xi(e,n,r,s){return this.Gi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,n,r,s){this.persistence=e,this.es=n,this.serializer=s,this.ts=new F(k),this.ns=new Tt(i=>ri(i),si),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Rm(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function qm(t,e,n,r){return new Lm(t,e,n,r)}async function Kl(t,e){const n=N(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=V();for(const u of s){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of i){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})}function Ql(t){const e=N(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function Fm(t,e){const n=N(t),r=e.snapshotVersion;let s=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});s=n.ts;const a=[];e.targetChanges.forEach((h,d)=>{const m=s.get(d);if(!m)return;a.push(n.qr.removeMatchingKeys(i,h.removedDocuments,d).next(()=>n.qr.addMatchingKeys(i,h.addedDocuments,d)));let f=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(ae.EMPTY_BYTE_STRING,R.min()).withLastLimboFreeSnapshotVersion(R.min()):h.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(h.resumeToken,r)),s=s.insert(d,f),function(T,E,D){return T.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(m,f,h)&&a.push(n.qr.updateTargetData(i,f))});let l=$e(),u=V();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(Bm(i,o,e.documentUpdates).next(h=>{l=h.us,u=h.cs})),!r.isEqual(R.min())){const h=n.qr.getLastRemoteSnapshotVersion(i).next(d=>n.qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return g.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.ts=s,i))}function Bm(t,e,n){let r=V(),s=V();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=$e();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(R.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):A("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:o,cs:s}})}function $m(t,e){const n=N(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.qr.getTargetData(r,e).next(i=>i?(s=i,g.resolve(s)):n.qr.allocateTargetId(r).next(o=>(s=new Me(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function gs(t,e,n){const r=N(t),s=r.ts.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!hn(o))throw o;A("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(s.target)}function Lo(t,e,n){const r=N(t);let s=R.min(),i=V();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,h){const d=N(l),m=d.ns.get(h);return m!==void 0?g.resolve(d.ts.get(m)):d.qr.getTargetData(u,h)}(r,o,Ie(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?s:R.min(),n?i:V())).next(a=>(Um(r,$d(e),a),{documents:a,ls:i})))}function Um(t,e,n){let r=t.rs.get(e)||R.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.rs.set(e,r)}class qo{constructor(){this.activeTargetIds=Kd()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jm{constructor(){this.eo=new qo,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new qo,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){A("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){A("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xn=null;function Br(){return xn===null?xn=function(){return 268435456+Math.round(2147483648*Math.random())}():xn++,"0x"+xn.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne="WebChannelConnection";class Km extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${s}/databases/${i}`,this.po=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get yo(){return!1}wo(n,r,s,i,o){const a=Br(),l=this.So(n,r);A("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,i,o),this.Do(n,l,u,s).then(h=>(A("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Xt("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",s),h})}Co(n,r,s,i,o,a){return this.wo(n,r,s,i,o)}bo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wt}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}So(n,r){const s=Hm[n];return`${this.mo}/v1/${r}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,s){const i=Br();return new Promise((o,a)=>{const l=new cd;l.setWithCredentials(!0),l.listenOnce(ad.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Lr.NO_ERROR:const h=l.getResponseJson();A(ne,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case Lr.TIMEOUT:A(ne,`RPC '${e}' ${i} timed out`),a(new w(_.DEADLINE_EXCEEDED,"Request time out"));break;case Lr.HTTP_ERROR:const d=l.getStatus();if(A(ne,`RPC '${e}' ${i} failed with status:`,d,"response text:",l.getResponseText()),d>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const f=m==null?void 0:m.error;if(f&&f.status&&f.message){const y=function(E){const D=E.toLowerCase().replace(/_/g,"-");return Object.values(_).indexOf(D)>=0?D:_.UNKNOWN}(f.status);a(new w(y,f.message))}else a(new w(_.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new w(_.UNAVAILABLE,"Connection failed."));break;default:C()}}finally{A(ne,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);A(ne,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",u,r,15)})}vo(e,n,r){const s=Br(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=id(),a=od(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");A(ne,`Creating RPC '${e}' stream ${s}: ${h}`,l);const d=o.createWebChannel(h,l);let m=!1,f=!1;const y=new Gm({co:E=>{f?A(ne,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(m||(A(ne,`Opening RPC '${e}' stream ${s} transport.`),d.open(),m=!0),A(ne,`RPC '${e}' stream ${s} sending:`,E),d.send(E))},lo:()=>d.close()}),T=(E,D,S)=>{E.listen(D,z=>{try{S(z)}catch(H){setTimeout(()=>{throw H},0)}})};return T(d,wn.EventType.OPEN,()=>{f||A(ne,`RPC '${e}' stream ${s} transport opened.`)}),T(d,wn.EventType.CLOSE,()=>{f||(f=!0,A(ne,`RPC '${e}' stream ${s} transport closed`),y.Ro())}),T(d,wn.EventType.ERROR,E=>{f||(f=!0,Xt(ne,`RPC '${e}' stream ${s} transport errored:`,E),y.Ro(new w(_.UNAVAILABLE,"The operation could not be completed")))}),T(d,wn.EventType.MESSAGE,E=>{var D;if(!f){const S=E.data[0];j(!!S);const z=S,H=z.error||((D=z[0])===null||D===void 0?void 0:D.error);if(H){A(ne,`RPC '${e}' stream ${s} received error:`,H);const le=H.status;let te=function(G){const fe=B[G];if(fe!==void 0)return Ll(fe)}(le),Ve=H.message;te===void 0&&(te=_.INTERNAL,Ve="Unknown error status: "+le+" with message "+H.message),f=!0,y.Ro(new w(te,Ve)),d.close()}else A(ne,`RPC '${e}' stream ${s} received:`,S),y.Vo(S)}}),T(a,ld.STAT_EVENT,E=>{E.stat===po.PROXY?A(ne,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===po.NOPROXY&&A(ne,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{y.Ao()},0),y}}function $r(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(t){return new um(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n,r=1e3,s=1.5,i=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=s,this.xo=i,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-r);s>0&&A("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n,r,s,i,o,a,l){this.si=e,this.Ko=r,this.$o=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Wl(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===_.RESOURCE_EXHAUSTED?(Pe(n.toString()),Pe("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===_.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Uo===n&&this.s_(r,s)},r=>{e(()=>{const s=new w(_.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(s)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(s=>{r(()=>this.o_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return A("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(A("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Wm extends Qm{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=dm(this.serializer,e),r=function(i){if(!("targetChange"in i))return R.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?R.min():o.readTime?at(o.readTime):R.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=Oo(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=ls(l)?{documents:mm(i,l)}:{query:fm(i,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Bl(i,o.resumeToken);const u=ms(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(R.min())>0){a.readTime=fs(i,o.snapshotVersion.toTimestamp());const u=ms(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=gm(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=Oo(this.serializer),n.removeTarget=e,this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.d_=!1}A_(){if(this.d_)throw new w(_.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.wo(e,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new w(_.UNKNOWN,s.toString())})}Co(e,n,r,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Co(e,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new w(_.UNKNOWN,i.toString())})}terminate(){this.d_=!0}}class Xm{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Pe(n),this.f_=!1):A("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=i,this.F_.ro(o=>{r.enqueueAndForget(async()=>{gn(this)&&(A("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=N(l);u.C_.add(4),await pn(u),u.M_.set("Unknown"),u.C_.delete(4),await Er(u)}(this))})}),this.M_=new Xm(r,s)}}async function Er(t){if(gn(t))for(const e of t.v_)await e(!0)}async function pn(t){for(const e of t.v_)await e(!1)}function Yl(t,e){const n=N(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),fi(n)?mi(n):At(n).Ho()&&di(n,e))}function Xl(t,e){const n=N(t),r=At(n);n.D_.delete(e),r.Ho()&&Jl(n,e),n.D_.size===0&&(r.Ho()?r.Zo():gn(n)&&n.M_.set("Unknown"))}function di(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(R.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}At(t).u_(e)}function Jl(t,e){t.x_.Oe(e),At(t).c_(e)}function mi(t){t.x_=new om({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),At(t).start(),t.M_.g_()}function fi(t){return gn(t)&&!At(t).jo()&&t.D_.size>0}function gn(t){return N(t).C_.size===0}function Zl(t){t.x_=void 0}async function Zm(t){t.D_.forEach((e,n)=>{di(t,e)})}async function ef(t,e){Zl(t),fi(t)?(t.M_.w_(e),mi(t)):t.M_.set("Unknown")}async function tf(t,e,n){if(t.M_.set("Online"),e instanceof Fl&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.D_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.D_.delete(a),s.x_.removeTarget(a))}(t,e)}catch(r){A("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Bo(t,r)}else if(e instanceof Rn?t.x_.$e(e):e instanceof ql?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(R.min()))try{const r=await Ql(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.x_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.D_.get(u);h&&i.D_.set(u,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const h=i.D_.get(l);if(!h)return;i.D_.set(l,h.withResumeToken(ae.EMPTY_BYTE_STRING,h.snapshotVersion)),Jl(i,l);const d=new Me(h.target,l,u,h.sequenceNumber);di(i,d)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){A("RemoteStore","Failed to raise snapshot:",r),await Bo(t,r)}}async function Bo(t,e,n){if(!hn(e))throw e;t.C_.add(1),await pn(t),t.M_.set("Offline"),n||(n=()=>Ql(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{A("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await Er(t)})}async function $o(t,e){const n=N(t);n.asyncQueue.verifyOperationInProgress(),A("RemoteStore","RemoteStore received new credentials");const r=gn(n);n.C_.add(3),await pn(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await Er(n)}async function nf(t,e){const n=N(t);e?(n.C_.delete(2),await Er(n)):e||(n.C_.add(2),await pn(n),n.M_.set("Unknown"))}function At(t){return t.O_||(t.O_=function(n,r,s){const i=N(n);return i.A_(),new Wm(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{ho:Zm.bind(null,t),Io:ef.bind(null,t),a_:tf.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),fi(t)?mi(t):t.M_.set("Unknown")):(await t.O_.stop(),Zl(t))})),t.O_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Le,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new pi(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new w(_.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ec(t,e){if(Pe("AsyncQueue",`${e}: ${t}`),hn(t))return new w(_.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.comparator=e?(n,r)=>e(n,r)||x.comparator(n.key,r.key):(n,r)=>x.comparator(n.key,r.key),this.keyedMap=Nt(),this.sortedSet=new F(this.comparator)}static emptySet(e){return new lt(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof lt)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new lt;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.B_=new F(x.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):C():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class pt{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new pt(e,n,lt.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fr(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(){this.k_=void 0,this.listeners=[]}}class sf{constructor(){this.queries=new Tt(e=>Rl(e),fr),this.onlineState="Unknown",this.q_=new Set}}async function tc(t,e){const n=N(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new rf),s)try{i.k_=await n.onListen(r)}catch(o){const a=ec(o,`Initialization of query '${tt(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.listeners.push(e),e.Q_(n.onlineState),i.k_&&e.K_(i.k_)&&gi(n)}async function nc(t,e){const n=N(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function of(t,e){const n=N(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.K_(s)&&(r=!0);o.k_=s}}r&&gi(n)}function af(t,e,n){const r=N(t),s=r.queries.get(e);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(e)}function gi(t){t.q_.forEach(e=>{e.next()})}class rc{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new pt(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=pt.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e){this.key=e}}class ic{constructor(e){this.key=e}}class lf{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=V(),this.mutatedKeys=V(),this._a=Cl(e),this.aa=new lt(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new Uo,s=n?n.aa:this.aa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,d)=>{const m=s.get(h),f=pr(this.query,d)?d:null,y=!!m&&this.mutatedKeys.has(m.key),T=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let E=!1;m&&f?m.data.isEqual(f.data)?y!==T&&(r.track({type:3,doc:f}),E=!0):this.ha(m,f)||(r.track({type:2,doc:f}),E=!0,(l&&this._a(f,l)>0||u&&this._a(f,u)<0)&&(a=!0)):!m&&f?(r.track({type:0,doc:f}),E=!0):m&&!f&&(r.track({type:1,doc:m}),E=!0,(l||u)&&(a=!0)),E&&(f?(o=o.add(f),i=T?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{aa:o,la:r,Zi:a,mutatedKeys:i}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((h,d)=>function(f,y){const T=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return C()}};return T(f)-T(y)}(h.type,d.type)||this._a(h.doc,d.doc)),this.Pa(r),s=s!=null&&s;const a=n&&!s?this.Ia():[],l=this.oa.size===0&&this.current&&!s?1:0,u=l!==this.sa;return this.sa=l,o.length!==0||u?{snapshot:new pt(this.query,e.aa,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new Uo,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=V(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new ic(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new sc(r))}),n}da(e){this.ia=e.ls,this.oa=V();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return pt.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class cf{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class uf{constructor(e){this.key=e,this.Ra=!1}}class hf{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Tt(a=>Rl(a),fr),this.fa=new Map,this.ga=new Set,this.pa=new F(x.comparator),this.ya=new Map,this.wa=new ci,this.Sa={},this.ba=new Map,this.Da=ft.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function df(t,e){const n=vf(t);let r,s;const i=n.ma.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Aa();else{const o=await $m(n.localStore,Ie(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await mf(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&Yl(n.remoteStore,o)}return s}async function mf(t,e,n,r,s){t.va=(d,m,f)=>async function(T,E,D,S){let z=E.view.ca(D);z.Zi&&(z=await Lo(T.localStore,E.query,!1).then(({documents:Ve})=>E.view.ca(Ve,z)));const H=S&&S.targetChanges.get(E.targetId),le=S&&S.targetMismatches.get(E.targetId)!=null,te=E.view.applyChanges(z,T.isPrimaryClient,H,le);return zo(T,E.targetId,te.Ta),te.snapshot}(t,d,m,f);const i=await Lo(t.localStore,e,!0),o=new lf(e,i.ls),a=o.ca(i.documents),l=fn.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);zo(t,n,u.Ta);const h=new cf(e,n,o);return t.ma.set(e,h),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),u.snapshot}async function ff(t,e){const n=N(t),r=n.ma.get(e),s=n.fa.get(r.targetId);if(s.length>1)return n.fa.set(r.targetId,s.filter(i=>!fr(i,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await gs(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Xl(n.remoteStore,r.targetId),_s(n,r.targetId)}).catch(Js)):(_s(n,r.targetId),await gs(n.localStore,r.targetId,!0))}async function oc(t,e){const n=N(t);try{const r=await Fm(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.ya.get(i);o&&(j(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ra=!0:s.modifiedDocuments.size>0?j(o.Ra):s.removedDocuments.size>0&&(j(o.Ra),o.Ra=!1))}),await lc(n,r,e)}catch(r){await Js(r)}}function jo(t,e,n){const r=N(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ma.forEach((i,o)=>{const a=o.view.Q_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=N(o);l.onlineState=a;let u=!1;l.queries.forEach((h,d)=>{for(const m of d.listeners)m.Q_(a)&&(u=!0)}),u&&gi(l)}(r.eventManager,e),s.length&&r.Va.a_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function pf(t,e,n){const r=N(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.ya.get(e),i=s&&s.key;if(i){let o=new F(x.comparator);o=o.insert(i,re.newNoDocument(i,R.min()));const a=V().add(i),l=new yr(R.min(),new Map,new F(k),o,a);await oc(r,l),r.pa=r.pa.remove(i),r.ya.delete(e),_i(r)}else await gs(r.localStore,e,!1).then(()=>_s(r,e,n)).catch(Js)}function _s(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||ac(t,r)})}function ac(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(Xl(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),_i(t))}function zo(t,e,n){for(const r of n)r instanceof sc?(t.wa.addReference(r.key,e),gf(t,r)):r instanceof ic?(A("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||ac(t,r.key)):C()}function gf(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(A("SyncEngine","New document in limbo: "+n),t.ga.add(r),_i(t))}function _i(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new x(L.fromString(e)),r=t.Da.next();t.ya.set(r,new uf(n)),t.pa=t.pa.insert(n,r),Yl(t.remoteStore,new Me(Ie(ii(n.path)),r,"TargetPurposeLimboResolution",Zs._e))}}async function lc(t,e,n){const r=N(t),s=[],i=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){s.push(u);const h=hi.Qi(l.targetId,u);i.push(h)}}))}),await Promise.all(o),r.Va.a_(s),await async function(l,u){const h=N(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>g.forEach(u,m=>g.forEach(m.ki,f=>h.persistence.referenceDelegate.addReference(d,m.targetId,f)).next(()=>g.forEach(m.qi,f=>h.persistence.referenceDelegate.removeReference(d,m.targetId,f)))))}catch(d){if(!hn(d))throw d;A("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const m=d.targetId;if(!d.fromCache){const f=h.ts.get(m),y=f.snapshotVersion,T=f.withLastLimboFreeSnapshotVersion(y);h.ts=h.ts.insert(m,T)}}}(r.localStore,i))}async function _f(t,e){const n=N(t);if(!n.currentUser.isEqual(e)){A("SyncEngine","User change. New user:",e.toKey());const r=await Kl(n.localStore,e);n.currentUser=e,function(i,o){i.ba.forEach(a=>{a.forEach(l=>{l.reject(new w(_.CANCELLED,o))})}),i.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await lc(n,r._s)}}function yf(t,e){const n=N(t),r=n.ya.get(e);if(r&&r.Ra)return V().add(r.key);{let s=V();const i=n.fa.get(e);if(!i)return s;for(const o of i){const a=n.ma.get(o);s=s.unionWith(a.view.ua)}return s}}function vf(t){const e=N(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=oc.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yf.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pf.bind(null,e),e.Va.a_=of.bind(null,e.eventManager),e.Va.Fa=af.bind(null,e.eventManager),e}class Ho{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=vr(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return qm(this.persistence,new Om,e.initialUser,this.serializer)}createPersistence(e){return new Dm(ui.jr,this.serializer)}createSharedClientState(e){return new jm}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Ef{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jo(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_f.bind(null,this.syncEngine),await nf(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new sf}()}createDatastore(e){const n=vr(e.databaseInfo.databaseId),r=function(i){return new Km(i)}(e.databaseInfo);return function(i,o,a,l){return new Ym(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new Jm(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>jo(this.syncEngine,n,0),function(){return Fo.D()?new Fo:new zm}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,h){const d=new hf(s,i,o,a,l,u);return h&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=N(n);A("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await pn(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Pe("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=he.UNAUTHENTICATED,this.clientId=gl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{A("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(A("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new w(_.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Le;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ec(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ur(t,e){t.asyncQueue.verifyOperationInProgress(),A("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Kl(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Go(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Af(t);A("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>$o(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>$o(e.remoteStore,i)),t._onlineComponents=e}function Tf(t){return t.name==="FirebaseError"?t.code===_.FAILED_PRECONDITION||t.code===_.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Af(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){A("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ur(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Tf(n))throw n;Xt("Error using user provided cache. Falling back to memory cache: "+n),await Ur(t,new Ho)}}else A("FirestoreClient","Using default OfflineComponentProvider"),await Ur(t,new Ho);return t._offlineComponents}async function xf(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(A("FirestoreClient","Using user provided OnlineComponentProvider"),await Go(t,t._uninitializedComponentsProvider._online)):(A("FirestoreClient","Using default OnlineComponentProvider"),await Go(t,new Ef))),t._onlineComponents}async function uc(t){const e=await xf(t),n=e.eventManager;return n.onListen=df.bind(null,e.syncEngine),n.onUnlisten=ff.bind(null,e.syncEngine),n}function If(t,e,n={}){const r=new Le;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const h=new cc({next:m=>{o.enqueueAndForget(()=>nc(i,d));const f=m.docs.has(a);!f&&m.fromCache?u.reject(new w(_.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&m.fromCache&&l&&l.source==="server"?u.reject(new w(_.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),d=new rc(ii(a.path),h,{includeMetadataChanges:!0,J_:!0});return tc(i,d)}(await uc(t),t.asyncQueue,e,n,r)),r.promise}function Rf(t,e,n={}){const r=new Le;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const h=new cc({next:m=>{o.enqueueAndForget(()=>nc(i,d)),m.fromCache&&l.source==="server"?u.reject(new w(_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),d=new rc(a,h,{includeMetadataChanges:!0,J_:!0});return tc(i,d)}(await uc(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(t,e,n){if(!n)throw new w(_.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Cf(t,e,n,r){if(e===!0&&r===!0)throw new w(_.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Qo(t){if(!x.isDocumentKey(t))throw new w(_.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Wo(t){if(x.isDocumentKey(t))throw new w(_.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wr(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":C()}function Qn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new w(_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wr(t);throw new w(_.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new w(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new w(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Cf("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hc((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new w(_.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new w(_.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new w(_.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yi{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yo({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new w(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new w(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yo(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new dd;switch(r.type){case"firstParty":return new pd(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new w(_.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Ko.get(n);r&&(A("ComponentProvider","Removing Datastore"),Ko.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xt(this.firestore,e,this._query)}}class de{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qe(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new de(this.firestore,e,this._key)}}class qe extends xt{constructor(e,n,r){super(e,n,ii(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new de(this.firestore,null,new x(e))}withConverter(e){return new qe(this.firestore,e,this._path)}}function Sf(t,e,...n){if(t=$t(t),dc("collection","path",e),t instanceof yi){const r=L.fromString(e,...n);return Wo(r),new qe(t,null,r)}{if(!(t instanceof de||t instanceof qe))throw new w(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(L.fromString(e,...n));return Wo(r),new qe(t.firestore,null,r)}}function bf(t,e,...n){if(t=$t(t),arguments.length===1&&(e=gl.newId()),dc("doc","path",e),t instanceof yi){const r=L.fromString(e,...n);return Qo(r),new de(t,null,new x(r))}{if(!(t instanceof de||t instanceof qe))throw new w(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(L.fromString(e,...n));return Qo(r),new de(t.firestore,t instanceof qe?t.converter:null,new x(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Wl(this,"async_queue_retry"),this.iu=()=>{const n=$r();n&&A("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=$r();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=$r();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Le;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!hn(e))throw e;A("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Pe("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const s=pi.createAndSchedule(this,e,n,r,i=>this.au(i));return this.Xa.push(s),s}su(){this.eu&&C()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}class vi extends yi{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new Pf}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||fc(this),this._firestoreClient.terminate()}}function mc(t){return t._firestoreClient||fc(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function fc(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,u,h){return new Cd(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,hc(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new wf(t._authCredentials,t._appCheckCredentials,t._queue,i),((n=s.localCache)===null||n===void 0?void 0:n._offlineComponentProvider)&&((r=s.localCache)===null||r===void 0?void 0:r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gt(ae.fromBase64String(e))}catch(n){throw new w(_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gt(ae.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new w(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new se(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new w(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new w(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return k(this._lat,e._lat)||k(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf=/^__.*__$/;function _c(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw C()}}class wi{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Pu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new wi(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:r,du:!1});return s.Au(e),s}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:r,du:!1});return s.Pu(),s}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return ys(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(_c(this.Iu)&&Vf.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Nf{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||vr(e)}pu(e,n,r,s=!1){return new wi({Iu:e,methodName:n,gu:r,path:se.emptyPath(),du:!1,fu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Df(t){const e=t._freezeSettings(),n=vr(t._databaseId);return new Nf(t._databaseId,!!e.ignoreUndefinedProperties,n)}function kf(t,e,n,r=!1){return Ti(n,t.pu(r?4:3,e))}function Ti(t,e){if(yc(t=$t(t)))return Of("Unsupported field value:",e,t),Mf(t,e);if(t instanceof gc)return function(r,s){if(!_c(s.Iu))throw s.mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Ti(a,s.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=$t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Qd(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Q.fromDate(r);return{timestampValue:fs(s.serializer,i)}}if(r instanceof Q){const i=new Q(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fs(s.serializer,i)}}if(r instanceof Ei)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof gt)return{bytesValue:Bl(s.serializer,r._byteString)};if(r instanceof de){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:$l(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.mu(`Unsupported field value: ${wr(r)}`)}(t,e)}function Mf(t,e){const n={};return _l(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):dn(t,(r,s)=>{const i=Ti(s,e.Eu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function yc(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Q||t instanceof Ei||t instanceof gt||t instanceof de||t instanceof gc)}function Of(t,e,n){if(!yc(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=wr(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}const Lf=new RegExp("[~\\*/\\[\\]]");function qf(t,e,n){if(e.search(Lf)>=0)throw ys(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pc(...e.split("."))._internalPath}catch{throw ys(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ys(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new w(_.INVALID_ARGUMENT,a+t+l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new de(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ff(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ec("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Ff extends vc{data(){return super.data()}}function Ec(t,e){return typeof e=="string"?qf(t,e):e instanceof pc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new w(_.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ai{}class $f extends Ai{}function Uf(t,e,...n){let r=[];e instanceof Ai&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof Ii).length,a=i.filter(l=>l instanceof xi).length;if(o>1||o>0&&a>0)throw new w(_.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class xi extends $f{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new xi(e,n,r)}_apply(e){const n=this._parse(e);return wc(e._query,n),new xt(e.firestore,e.converter,cs(e._query,n))}_parse(e){const n=Df(e.firestore);return function(i,o,a,l,u,h,d){let m;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new w(_.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Jo(d,h);const f=[];for(const y of d)f.push(Xo(l,i,y));m={arrayValue:{values:f}}}else m=Xo(l,i,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Jo(d,h),m=kf(a,o,d,h==="in"||h==="not-in");return U.create(u,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Ii extends Ai{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ii(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ye.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)wc(o,l),o=cs(o,l)}(e._query,n),new xt(e.firestore,e.converter,cs(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Xo(t,e,n){if(typeof(n=$t(n))=="string"){if(n==="")throw new w(_.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Il(e)&&n.indexOf("/")!==-1)throw new w(_.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(L.fromString(n));if(!x.isDocumentKey(r))throw new w(_.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Eo(t,new x(r))}if(n instanceof de)return Eo(t,n._key);throw new w(_.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wr(n)}.`)}function Jo(t,e){if(!Array.isArray(t)||t.length===0)throw new w(_.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wc(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new w(_.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new w(_.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class jf{convertValue(e,n="none"){switch(Je(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xe(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw C()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return dn(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new Ei($(e.latitude),$(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ti(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Zt(e));default:return null}}convertTimestamp(e){const n=Be(e);return new Q(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=L.fromString(e);j(Gl(r));const s=new en(r.get(1),r.get(3)),i=new x(r.popFirst(5));return s.isEqual(n)||Pe(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Tc extends vc{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Cn(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ec("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Cn extends Tc{data(e={}){return super.data(e)}}class zf{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new kt(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Cn(this._firestore,this._userDataWriter,r.key,r,new kt(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new w(_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Cn(s._firestore,s._userDataWriter,a.doc.key,a.doc,new kt(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Cn(s._firestore,s._userDataWriter,a.doc.key,a.doc,new kt(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:Hf(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Hf(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return C()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(t){t=Qn(t,de);const e=Qn(t.firestore,vi);return If(mc(e),t._key).then(n=>Qf(e,t,n))}class Ac extends jf{constructor(e){super(),this.firestore=e}convertBytes(e){return new gt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new de(this.firestore,null,n)}}function Kf(t){t=Qn(t,xt);const e=Qn(t.firestore,vi),n=mc(e),r=new Ac(e);return Bf(t._query),Rf(n,t._query).then(s=>new zf(e,r,t,s))}function Qf(t,e,n){const r=n.docs.get(e._key),s=new Ac(t);return new Tc(t,s,e._key,r,new kt(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){wt=s})(Wu),On(new Mn("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new vi(new md(r.getProvider("auth-internal")),new _d(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new w(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new en(u.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Mt(go,"4.4.0",e),Mt(go,"4.4.0","esm2017")})();const Ri={__name:"BlogHome",__ssrInlineRender:!0,setup(t){const e=c.ref([]),n=c.ref([]);c.ref([{id:"espelho",title:"Praia do Espelho: Um Espet\xE1culo da Natureza",imageURL:"espelho-blog-hero.jpg",excerpt:"Explore \xE1guas cristalinas e areias reluzentes. Um verdadeiro para\xEDso que reflete a serenidade do c\xE9u.",content:"<p>A Praia do Espelho, localizada na costa sul da Bahia, \xE9 uma verdadeira joia escondida, um recanto de beleza natural que atrai visitantes de todos os cantos em busca de suas \xE1guas cristalinas e areias reluzentes. Conhecida por ser um dos destinos mais cobi\xE7ados do Brasil, a Praia do Espelho \xE9 o cen\xE1rio perfeito para quem deseja relaxar e se conectar com a natureza, oferecendo uma experi\xEAncia inigual\xE1vel de tranquilidade e beleza.</p><img src='url_to_image_1.jpg' alt='Praia do Espelho' style='float:left;width:50%;margin-right:20px;'><p>Ao planejar sua viagem para este para\xEDso, considere a import\xE2ncia de um passeio bem organizado e um servi\xE7o de traslado confi\xE1vel. Afinal, o conforto e a seguran\xE7a durante o trajeto s\xE3o essenciais para aproveitar ao m\xE1ximo o que a Praia do Espelho tem a oferecer. Com op\xE7\xF5es variadas, voc\xEA pode escolher o passeio que mais se adequa ao seu estilo, seja para explorar as belezas naturais de forma tranquila ou para adicionar um toque de aventura \xE0s suas f\xE9rias.</p><img src='url_to_image_2.jpg' alt='Atividades na Praia do Espelho' style='float:right;width:50%;margin-left:20px;'><p>Ao chegar \xE0 Praia do Espelho, prepare-se para ser recebido por um cen\xE1rio de tirar o f\xF4lego. As \xE1guas de tons azul-turquesa formam uma paleta de cores fascinante com o c\xE9u, enquanto a areia branca e reluzente completa o quadro, refletindo a luz do sol de forma m\xE1gica. N\xE3o \xE9 \xE0 toa que a praia recebeu esse nome: a natureza aqui parece se contemplar, criando um espet\xE1culo de reflexos que encanta todos os visitantes.</p><p>Para os amantes de atividades ao ar livre, a Praia do Espelho oferece uma variedade de op\xE7\xF5es. Desde passeios de barco, mergulho entre os recifes de corais, at\xE9 caminhadas ecol\xF3gicas pelas trilhas que revelam a flora e fauna locais, h\xE1 sempre uma forma especial de se conectar com este para\xEDso. Al\xE9m disso, a regi\xE3o conta com uma excelente infraestrutura de restaurantes e acomoda\xE7\xF5es, garantindo que sua estadia seja t\xE3o confort\xE1vel quanto memor\xE1vel.</p><p>Por fim, ao escolher a Praia do Espelho como seu pr\xF3ximo destino, lembre-se de que um passeio bem planejado \xE9 a chave para uma experi\xEAncia inesquec\xEDvel. Com servi\xE7os especializados em passeios e traslados, voc\xEA poder\xE1 desfrutar de cada momento sem preocupa\xE7\xF5es, mergulhando de cabe\xE7a na tranquilidade e na beleza que s\xF3 este lugar pode oferecer. Reserve j\xE1 o seu passeio e prepare-se para viver momentos \xFAnicos na Praia do Espelho, um verdadeiro espet\xE1culo da natureza.</p>",containerStyle:"md:pr-6",imageStyle:" md:h-[600px]",titleStyle:"md:text-5xl",excerptStyle:"md:text-lg"},{id:"caraiva",title:"Cara\xEDva: Encanto R\xFAstico \xE0 Beira-Mar",imageURL:"caraiva-blog-hero.jpg",excerpt:"Descubra a simplicidade encantadora de Cara\xEDva, onde ruas de areia e casas coloridas desenham o cen\xE1rio.",content:"<p>Cara\xEDva \xE9 um verdadeiro ref\xFAgio para quem busca paz e contato com a natureza. Localizada no sul da Bahia, esta vila encantadora \xE9 rodeada por um cen\xE1rio exuberante, onde o rio encontra o mar, e as ruas de areia se alinham com casas coloridas e \xE1rvores frondosas. A singularidade de Cara\xEDva oferece uma experi\xEAncia aut\xEAntica para os viajantes, tornando-a um destino imperd\xEDvel para quem deseja se desligar do mundo moderno e mergulhar em uma atmosfera tranquila e acolhedora.</p><img src='url_to_image_caraiva_1.jpg' alt='Vista de Cara\xEDva' style='float:left;width:50%;margin-right:20px;'><p>Organizar sua viagem para Cara\xEDva significa planejar uma fuga memor\xE1vel do cotidiano. Aqui, a oferta de passeios \xE9 variada e promete encantar todos os tipos de aventureiros. Desde passeios de barco pelo rio Cara\xEDva, explorando manguezais e apreciando o p\xF4r do sol, at\xE9 caminhadas pelas praias deslumbrantes e trilhas que revelam a rica biodiversidade da regi\xE3o. Com servi\xE7os especializados em traslados e passeios, os visitantes podem explorar o melhor de Cara\xEDva com conforto e seguran\xE7a.</p><img src='url_to_image_caraiva_2.jpg' alt='Passeio em Cara\xEDva' style='float:right;width:50%;margin-left:20px;'><p>A vida noturna de Cara\xEDva \xE9 t\xE3o cativante quanto seus dias ensolarados. As ruas se iluminam com a energia vibrante dos restaurantes, bares e festas que exibem a rica cultura e a hospitalidade local. A culin\xE1ria \xE9 um espet\xE1culo \xE0 parte, com pratos que trazem o sabor fresco do mar e ingredientes locais, prometendo uma verdadeira jornada gastron\xF4mica para os visitantes.</p><p>O servi\xE7o de traslado em Cara\xEDva \xE9 pensado para garantir que sua viagem seja t\xE3o relaxante quanto o destino em si. Os visitantes podem contar com um transporte confort\xE1vel e seguro, facilitando o acesso \xE0s diversas belezas que a vila tem a oferecer. Seja para chegar \xE0 vila ou para se deslocar durante sua estadia, os servi\xE7os de traslado proporcionam a comodidade e a efici\xEAncia necess\xE1rias para uma viagem sem preocupa\xE7\xF5es.</p><p>Reservar uma viagem para Cara\xEDva \xE9 garantir um lugar no para\xEDso. As belezas naturais, a cultura vibrante e a tranquilidade do lugar criam o cen\xE1rio perfeito para uma escapada inesquec\xEDvel. N\xE3o perca a chance de conhecer um dos destinos mais encantadores do Brasil. Entre em contato agora mesmo e planeje sua aventura em Cara\xEDva, onde cada momento promete ser uma p\xE1gina de um livro de mem\xF3rias preciosas.</p>",containerStyle:"md:pb-3",imageStyle:"md:h-[288px]",titleStyle:"md:text-2xl",excerptStyle:"md:text-md"},{id:"trancoso",title:"Trancoso: Beleza e Charme Hist\xF3rico",imageURL:"quadrado-blog-hero.jpg",excerpt:"Mergulhe na eleg\xE2ncia de Trancoso, um lugar onde praias deslumbrantes encontram um rico patrim\xF4nio cultural.",containerStyle:"md:pt-3",imageStyle:"md:h-[288px]",titleStyle:"md:text-2xl",excerptStyle:"md:text-md"}]),c.ref([{id:"arraial-dajuda",title:"Descubra Arraial d'Ajuda: Um Para\xEDso Escondido",imageURL:"arraial-blog.jpeg",excerpt:"Arraial d'Ajuda: praias deslumbrantes, cultura rica e natureza vibrante.",content:""},{id:"passarela-do-alcool",title:"Passarela do \xC1lcool: O Cora\xE7\xE3o Noturno de Porto Seguro",imageURL:"passarela-blog.jpeg",excerpt:"A alma das noites de Porto Seguro, com bares, artesanato e muita vida.",content:""},{id:"toa-toa",title:"Toa Toa: Divers\xE3o e M\xFAsica \xE0 Beira-Mar",imageURL:"toa-toa-blog.jpeg",excerpt:"Divers\xE3o garantida com m\xFAsica, dan\xE7a e gastronomia \xE0 beira-mar.",content:""},{id:"axe-moi",title:"Ax\xE9 Moi: O Palco da Alegria em Porto Seguro",imageURL:"axe-blog.jpeg",excerpt:"Ax\xE9 Moi: o epicentro de festas, m\xFAsica ao vivo e cultura bahiana.",content:""}]),c.onBeforeMount(()=>{e.value=[],n.value=[];const o=Sf(Rs,"blog"),a=Uf(o);Kf(a).then(l=>{l.forEach(u=>{u.data().featured?e.value.push({id:u.id,...u.data()}):n.value.push({id:u.id,...u.data()})})}),pe.useMeta({title:"Ess\xEAncia BAHIANA | Blog",meta:{description:{name:"description",content:"Descubra as maravilhas de Porto Seguro e seus arredores conosco. Nosso blog 'Ess\xEAncia Bahiaa' oferece informa\xE7\xF5es detalhadas sobre os melhores pontos tur\xEDsticos e experi\xEAncias imperd\xEDveis na regi\xE3o. Planeje sua viagem com facilidade, explore nossa sele\xE7\xE3o de passeios emocionantes e traslados confort\xE1veis. Sua aventura inesquec\xEDvel come\xE7a aqui!"},equiv:{"http-equiv":"Content-Type",content:"text/html; charset=UTF-8"},keywords:{name:"keywords",content:"Porto Seguro, Pontos tur\xEDsticos em Porto Seguro, Passeios em Porto Seguro, Traslados em Porto Seguro, Turismo na Bahia, Viagens pela Bahia, Melhores experi\xEAncias em Porto Seguro, Roteiros de viagem em Porto Seguro, Atra\xE7\xF5es tur\xEDsticas na regi\xE3o, Servi\xE7o de transporte em Porto Seguro, Roteiro de viagem personalizado, Dicas de viagem para Porto Seguro, Destinos na Bahia, Planejamento de viagem, Experi\xEAncias memor\xE1veis na Bahia."},ogTitle:{property:"og:title",template(){return"Ess\xEAncia BAHIANA | Blog"}},ogDescription:{property:"og:description",template(){return"Descubra as maravilhas de Porto Seguro e seus arredores conosco. Nosso blog 'Ess\xEAncia Bahiaa' oferece informa\xE7\xF5es detalhadas sobre os melhores pontos tur\xEDsticos e experi\xEAncias imperd\xEDveis na regi\xE3o. Planeje sua viagem com facilidade, explore nossa sele\xE7\xE3o de passeios emocionantes e traslados confort\xE1veis. Sua aventura inesquec\xEDvel come\xE7a aqui!"}},ogImage:{property:"og:image",template(){return"https://essenciabahiana.com.br/hero.jpg"}},twitterTitle:{property:"twitter:title",template(){return"Ess\xEAncia BAHIANA | Blog"}},twitterDescription:{property:"twitter:description",template(){return"Descubra as maravilhas de Porto Seguro e seus arredores conosco. Nosso blog 'Ess\xEAncia Bahiaa' oferece informa\xE7\xF5es detalhadas sobre os melhores pontos tur\xEDsticos e experi\xEAncias imperd\xEDveis na regi\xE3o. Planeje sua viagem com facilidade, explore nossa sele\xE7\xE3o de passeios emocionantes e traslados confort\xE1veis. Sua aventura inesquec\xEDvel come\xE7a aqui!"}},twitterImage:{property:"twitter:image",template(){return"https://essenciabahiana.com.br/hero.jpg"}}}})});const r=c.ref("Ess\xEAncia"),s=c.ref("Bahiana"),i=c.ref(`\xA9 ${new Date().getFullYear()} Essencia Bahiana. Todos os direitos reservados.`);return(o,a,l,u)=>{const h=c.resolveComponent("q-page");a(p.ssrRenderComponent(h,c.mergeProps({class:"blog-home"},u),{default:c.withCtx((d,m,f,y)=>{if(m)m(`<main class="my-28 md:mt-48 md:mb-10 flex flex-col"${y}>`),e.value.length>0?m(p.ssrRenderComponent(Dn,{dataHero:e.value},null,f,y)):m("<!---->"),m(p.ssrRenderComponent(Te,{dataAdSlot:"banner"},null,f,y)),m(`<div class="flex container mx-auto"${y}>`),n.value?(m(`<section class="w-full md:w-9/12"${y}><!--[-->`),p.ssrRenderList(n.value,T=>{m(p.ssrRenderComponent(kn,{article:T,key:T.title},null,f,y))}),m("<!--]--></section>")):m("<!---->"),m(`<aside class="w-full md:w-3/12"${y}>`),m(p.ssrRenderComponent(Te,{dataAdSlot:"side"},null,f,y)),m("</aside></div></main>"),m(p.ssrRenderComponent(Re,{firstTitle:r.value,secondTitle:s.value,copyRight:i.value},null,f,y));else return[c.createVNode("main",{class:"my-28 md:mt-48 md:mb-10 flex flex-col"},[e.value.length>0?(c.openBlock(),c.createBlock(Dn,{key:0,dataHero:e.value},null,8,["dataHero"])):c.createCommentVNode("",!0),c.createVNode(Te,{dataAdSlot:"banner"}),c.createVNode("div",{class:"flex container mx-auto"},[n.value?(c.openBlock(),c.createBlock("section",{key:0,class:"w-full md:w-9/12"},[(c.openBlock(!0),c.createBlock(c.Fragment,null,c.renderList(n.value,T=>(c.openBlock(),c.createBlock(kn,{article:T,key:T.title},null,8,["article"]))),128))])):c.createCommentVNode("",!0),c.createVNode("aside",{class:"w-full md:w-3/12"},[c.createVNode(Te,{dataAdSlot:"side"})])])]),c.createVNode(Re,{firstTitle:r.value,secondTitle:s.value,copyRight:i.value},null,8,["firstTitle","secondTitle","copyRight"])]}),_:1},l))}}},Zo=Ri.setup;Ri.setup=(t,e)=>{const n=c.useSSRContext();return(n.modules||(n.modules=new Set)).add("src/pages/BlogHome.vue"),Zo?Zo(t,e):void 0};var Wf=Object.freeze(Object.defineProperty({__proto__:null,default:Ri},Symbol.toStringTag,{value:"Module"}));const Wn={__name:"InstagramFeed",__ssrInlineRender:!0,props:{id:String},setup(t){const e=c.ref([]),n=c.ref([]);c.onMounted(async()=>{try{const i=jr.doc(Rs,"configuration","instagramToken"),o=await jr.getDoc(i);if(o.exists()){const l=o.data().token,h=await fetch(`https://graph.instagram.com/me/media?fields=id,caption,media_url&access_token=${l}&limit=${1}`);if(!h.ok){console.error(`Erro na API: ${h.status} ${h.statusText}`);const y=await h.json();console.error(y);return}const d=await h.json();n.value=d.data;const m=n.value.map(async y=>{const T=await r(y.media_url);return{...y,type:T}}),f=await Promise.all(m);e.value=f}else console.error("Documento do token n\xE3o encontrado.")}catch(i){console.error("Erro ao carregar o feed do Instagram ou ao acessar o Firestore:",i)}});async function r(i){return(await fetch(i,{method:"HEAD"})).headers.get("Content-Type")}function s(){const i="https://www.instagram.com/essencia.bahiana";window.open(i,"_blank")}return(i,o,a,l)=>{const u=c.resolveComponent("q-img");e.value.length>0?(o(`<div${p.ssrRenderAttrs(c.mergeProps({class:"mx-auto max-w-full p-5"},l))}><div class="grid grid-cols-1 gap-4"><p class="text-lg font-bold font-sans">Confira o post mais recente.</p>`),o(p.ssrRenderComponent(u,{class:"cursor-pointer",src:"/insta-logo-text.png",alt:"Logo instagram com texto.",onClick:s},null,a)),o("<!--[-->"),p.ssrRenderList(e.value,h=>{o('<div class="instagram-post flex flex-col h-auto"><div class="relative pb-1/1 min-h-[300px]">'),h.type&&h.type.startsWith("image")?o(`<img${p.ssrRenderAttr("src",h.media_url)}${p.ssrRenderAttr("alt",h.caption)} class="absolute object-cover w-full min-h-[200px] h-full rounded-lg">`):o("<!---->"),h.type&&h.type.startsWith("video")?o(`<video controls class="absolute object-cover w-full h-full min-h-[300px] rounded-lg"><source${p.ssrRenderAttr("src",h.media_url)}${p.ssrRenderAttr("type",h.type)}></video>`):o("<!---->"),o(`</div><p class="mt-2 text-sm text-gray-600">${p.ssrInterpolate(h.caption)}</p></div>`)}),o("<!--]--></div></div>")):o("<!---->")}}},ea=Wn.setup;Wn.setup=(t,e)=>{const n=c.useSSRContext();return(n.modules||(n.modules=new Set)).add("src/components/InstagramFeed.vue"),ea?ea(t,e):void 0};const Ci={__name:"BlogPage",__ssrInlineRender:!0,setup(t){const e=ct.useRoute(),n=c.ref("Ess\xEAncia"),r=c.ref("Bahiana"),s=c.ref(`\xA9 ${new Date().getFullYear()} Essencia Bahiana. Todos os direitos reservados.`),i=c.ref({});return c.onMounted(async()=>{const{category:o,id:a}=e.params,l=bf(Rs,"blog",a),u=await Gf(l);u.exists()&&(i.value={id:u.id,...u.data()},pe.useMeta({title:i.value.title,titleTemplate:h=>`Ess\xEAncia BAHIANA | Blog | ${h}`,meta:{description:{name:"description",content:i.value.description},equiv:{"http-equiv":"Content-Type",content:"text/html; charset=UTF-8"},keywords:{name:"keywords",content:i.value.keywords},ogTitle:{property:"og:title",template(){return`Ess\xEAncia BAHIANA | ${i.value.title}`}},ogDescription:{property:"og:description",template(){return i.value.description}},ogImage:{property:"og:image",template(){return`https://essenciabahiana.com.br/${i.value.imageURL}`}},twitterTitle:{property:"twitter:title",template(){return`Ess\xEAncia BAHIANA | ${i.value.title}`}},twitterDescription:{property:"twitter:description",template(){return i.value.description}},twitterImage:{property:"twitter:image",template(){return`https://essenciabahiana.com.br/${i.value.imageURL}`}}}}))}),(o,a,l,u)=>{const h=c.resolveComponent("q-page"),d=c.resolveComponent("q-img"),m=c.resolveComponent("q-separator"),f=c.resolveComponent("q-breadcrumbs"),y=c.resolveComponent("q-breadcrumbs-el");a(p.ssrRenderComponent(h,c.mergeProps({class:""},u),{default:c.withCtx((T,E,D,S)=>{if(E)E(`<header class="max-w-[1000px] min-h-[400px] mx-auto mt-28 md:mt-44"${S}><figure${S}><div class="w-full"${S}>`),E(p.ssrRenderComponent(d,{class:"w-full max-h-[500px] object-cover",src:`/${i.value.imageURL}`,alt:i.value.title},null,D,S)),E(`</div><figcaption class="py-8 px-6 md:px-0 flex flex-col"${S}><h1 class="text-2xl md:text-5xl font-sans font-bold mb-6"${S}>${p.ssrInterpolate(i.value.title)}</h1><p class="text-2xl"${S}>${p.ssrInterpolate(i.value.excerpt)}</p><p class="ml-auto text-kg text-accent"${S}>Por Ess\xEAncia Bahiana</p></figcaption>`),E(p.ssrRenderComponent(m,{class:"max-w-[1000px] mx-auto mb-6"},null,D,S)),E(p.ssrRenderComponent(f,null,{default:c.withCtx((z,H,le,te)=>{if(H)H(p.ssrRenderComponent(y,{label:"Home",to:"/"},null,le,te)),H(p.ssrRenderComponent(y,{label:"Blog",to:"/blog"},null,le,te)),H(p.ssrRenderComponent(y,{label:"O que fazer"},null,le,te)),H(p.ssrRenderComponent(y,{label:i.value.title},null,le,te));else return[c.createVNode(y,{label:"Home",to:"/"}),c.createVNode(y,{label:"Blog",to:"/blog"}),c.createVNode(y,{label:"O que fazer"}),c.createVNode(y,{label:i.value.title},null,8,["label"])]}),_:1},D,S)),E("</figure></header>"),E(p.ssrRenderComponent(Te,{dataAdSlot:"banner"},null,D,S)),E(p.ssrRenderComponent(m,{class:"max-w-[1000px] mx-auto mb-6"},null,D,S)),E(`<main class="max-w-[1000px] mx-auto flex flex-col md:flex-row mb-6"${S}><section class="blog-content w-full md:w-8/12 px-6"${S}>${i.value.content}</section><aside class="w-full md:w-4/12"${S}>`),E(p.ssrRenderComponent(Wn,{id:i.value.id},null,D,S)),E(p.ssrRenderComponent(Te,{dataAdSlot:"side"},null,D,S)),E("</aside></main>"),E(p.ssrRenderComponent(Re,{firstTitle:n.value,secondTitle:r.value,copyRight:s.value},null,D,S));else return[c.createVNode("header",{class:"max-w-[1000px] min-h-[400px] mx-auto mt-28 md:mt-44"},[c.createVNode("figure",null,[c.createVNode("div",{class:"w-full"},[c.createVNode(d,{class:"w-full max-h-[500px] object-cover",src:`/${i.value.imageURL}`,alt:i.value.title},null,8,["src","alt"])]),c.createVNode("figcaption",{class:"py-8 px-6 md:px-0 flex flex-col"},[c.createVNode("h1",{class:"text-2xl md:text-5xl font-sans font-bold mb-6"},c.toDisplayString(i.value.title),1),c.createVNode("p",{class:"text-2xl"},c.toDisplayString(i.value.excerpt),1),c.createVNode("p",{class:"ml-auto text-kg text-accent"},"Por Ess\xEAncia Bahiana")]),c.createVNode(m,{class:"max-w-[1000px] mx-auto mb-6"}),c.createVNode(f,null,{default:c.withCtx(()=>[c.createVNode(y,{label:"Home",to:"/"}),c.createVNode(y,{label:"Blog",to:"/blog"}),c.createVNode(y,{label:"O que fazer"}),c.createVNode(y,{label:i.value.title},null,8,["label"])]),_:1})])]),c.createVNode(Te,{dataAdSlot:"banner"}),c.createVNode(m,{class:"max-w-[1000px] mx-auto mb-6"}),c.createVNode("main",{class:"max-w-[1000px] mx-auto flex flex-col md:flex-row mb-6"},[c.createVNode("section",{innerHTML:i.value.content,class:"blog-content w-full md:w-8/12 px-6"},null,8,["innerHTML"]),c.createVNode("aside",{class:"w-full md:w-4/12"},[c.createVNode(Wn,{id:i.value.id},null,8,["id"]),c.createVNode(Te,{dataAdSlot:"side"})])]),c.createVNode(Re,{firstTitle:n.value,secondTitle:r.value,copyRight:s.value},null,8,["firstTitle","secondTitle","copyRight"])]}),_:1},l))}}},ta=Ci.setup;Ci.setup=(t,e)=>{const n=c.useSSRContext();return(n.modules||(n.modules=new Set)).add("src/pages/BlogPage.vue"),ta?ta(t,e):void 0};var Yf=Object.freeze(Object.defineProperty({__proto__:null,default:Ci},Symbol.toStringTag,{value:"Module"}));const Si=c.defineComponent({name:"ErrorNotFound"});function Xf(t,e,n,r,s,i,o,a){const l=c.resolveComponent("q-btn");e(`<div${p.ssrRenderAttrs(c.mergeProps({class:"fullscreen bg-blue text-white text-center q-pa-md flex flex-center"},r))}><div><div style="${p.ssrRenderStyle({"font-size":"30vh"})}"> 404 </div><div class="text-h2" style="${p.ssrRenderStyle({opacity:".4"})}"> Oops. Nothing here... </div>`),e(p.ssrRenderComponent(l,{class:"q-mt-xl",color:"white","text-color":"blue",unelevated:"",to:"/",label:"Go Home","no-caps":""},null,n)),e("</div></div>")}const na=Si.setup;Si.setup=(t,e)=>{const n=c.useSSRContext();return(n.modules||(n.modules=new Set)).add("src/pages/ErrorNotFound.vue"),na?na(t,e):void 0};var Jf=sa(Si,[["ssrRender",Xf]]),Zf=Object.freeze(Object.defineProperty({__proto__:null,default:Jf},Symbol.toStringTag,{value:"Module"})),ep={failed:"Action failed",success:"Action was successful"},tp={"en-US":ep},np=Yn.boot(({app:t})=>{const e=bc.createI18n({locale:"en-US",globalInjection:!0,messages:tp});t.use(e)}),rp=Object.freeze(Object.defineProperty({__proto__:null,default:np},Symbol.toStringTag,{value:"Module"}));const xc=ra.default.create({baseURL:"https://api.example.com"});var sp=Yn.boot(({app:t})=>{t.config.globalProperties.$axios=ra.default,t.config.globalProperties.$api=xc}),ip=Object.freeze(Object.defineProperty({__proto__:null,default:sp,api:xc},Symbol.toStringTag,{value:"Module"}));exports.default=jc;
