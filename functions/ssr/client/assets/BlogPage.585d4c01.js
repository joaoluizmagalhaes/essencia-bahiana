import{Q as A}from"./QImg.1cd3b672.js";import{k as S,av as R,aw as D,c as x,h,a4 as P,$ as H,aF as N,aG as F,aH as M,l as j,r as f,o as E,ab as _,ap as b,ai as s,f as o,F as U,aq as V,aD as k,ao as $,aI as z,ac as W,ad as T,az as B}from"./index.c7d9da64.js";import{Q as O,_ as G}from"./FooterComponent.be48efe0.js";import{u as Y}from"./use-meta.4f8fa66f.js";import{a as q,d as I,b as L,_ as C}from"./firebase.1c030779.js";var y=S({name:"QBreadcrumbsEl",props:{...R,label:String,icon:String,tag:{type:String,default:"span"}},emits:["click"],setup(a,{slots:n}){const{linkTag:u,linkAttrs:d,linkClass:m,navigateOnClick:e}=D(),l=x(()=>({class:"q-breadcrumbs__el q-link flex inline items-center relative-position "+(a.disable!==!0?"q-link--focusable"+m.value:"q-breadcrumbs__el--disable"),...d.value,onClick:e})),t=x(()=>"q-breadcrumbs__el-icon"+(a.label!==void 0?" q-breadcrumbs__el-icon--with-label":""));return()=>{const r=[];return a.icon!==void 0&&r.push(h(P,{class:t.value,name:a.icon})),a.label!==void 0&&r.push(a.label),h(u.value,{...l.value},H(n.default,r))}}});const J=["",!0];var K=S({name:"QBreadcrumbs",props:{...N,separator:{type:String,default:"/"},separatorColor:String,activeColor:{type:String,default:"primary"},gutter:{type:String,validator:a=>["none","xs","sm","md","lg","xl"].includes(a),default:"sm"}},setup(a,{slots:n}){const u=F(a),d=x(()=>`flex items-center ${u.value}${a.gutter==="none"?"":` q-gutter-${a.gutter}`}`),m=x(()=>a.separatorColor?` text-${a.separatorColor}`:""),e=x(()=>` text-${a.activeColor}`);return()=>{const l=M(j(n.default));if(l.length===0)return;let t=1;const r=[],p=l.filter(i=>i.type!==void 0&&i.type.name==="QBreadcrumbsEl").length,c=n.separator!==void 0?n.separator:()=>a.separator;return l.forEach(i=>{if(i.type!==void 0&&i.type.name==="QBreadcrumbsEl"){const v=t<p,w=i.props!==null&&J.includes(i.props.disable),g=(v===!0?"":" q-breadcrumbs--last")+(w!==!0&&v===!0?e.value:"");t++,r.push(h("div",{class:`flex items-center${g}`},[i])),v===!0&&r.push(h("div",{class:"q-breadcrumbs__separator"+m.value},c()))}else r.push(i)}),h("div",{class:"q-breadcrumbs"},[h("div",{class:d.value},r)])}}});const X={key:0,class:"mx-auto max-w-full p-5"},Z={class:"grid grid-cols-1 gap-4"},ee=s("p",{class:"text-lg font-bold font-sans"},"Confira o post mais recente.",-1),te={class:"relative pb-1/1 min-h-[300px]"},ae=["src","alt"],se={key:1,controls:"",class:"absolute object-cover w-full h-full min-h-[300px] rounded-lg"},oe=["src","type"],le={class:"mt-2 text-sm text-gray-600"},re={__name:"InstagramFeed",props:{id:String},setup(a){const n=f([]),u=f([]);E(async()=>{try{const e=q(I,"configuration","instagramToken"),l=await L(e);if(l.exists()){const r=l.data().token,c=await fetch(`https://graph.instagram.com/me/media?fields=id,caption,media_url&access_token=${r}&limit=${1}`);if(!c.ok){console.error(`Erro na API: ${c.status} ${c.statusText}`);const g=await c.json();console.error(g);return}const i=await c.json();u.value=i.data;const v=u.value.map(async g=>{const Q=await d(g.media_url);return{...g,type:Q}}),w=await Promise.all(v);n.value=w}else console.error("Documento do token n\xE3o encontrado.")}catch(e){console.error("Erro ao carregar o feed do Instagram ou ao acessar o Firestore:",e)}});async function d(e){return(await fetch(e,{method:"HEAD"})).headers.get("Content-Type")}function m(){const e="https://www.instagram.com/essencia.bahiana";window.open(e,"_blank")}return(e,l)=>n.value.length>0?(_(),b("div",X,[s("div",Z,[ee,o(A,{class:"cursor-pointer",src:"/insta-logo-text.png",alt:"Logo instagram com texto.",onClick:m}),(_(!0),b(U,null,V(n.value,t=>(_(),b("div",{class:"instagram-post flex flex-col h-auto",key:t.id},[s("div",te,[t.type&&t.type.startsWith("image")?(_(),b("img",{key:0,src:t.media_url,alt:t.caption,class:"absolute object-cover w-full min-h-[200px] h-full rounded-lg"},null,8,ae)):k("",!0),t.type&&t.type.startsWith("video")?(_(),b("video",se,[s("source",{src:t.media_url,type:t.type},null,8,oe)])):k("",!0)]),s("p",le,$(t.caption),1)]))),128))])])):k("",!0)}},ne={class:"max-w-[1000px] min-h-[400px] mx-auto mt-28 md:mt-44"},ie={class:"w-full"},ce={class:"py-8 px-6 md:px-0 flex flex-col"},ue={class:"text-2xl md:text-5xl font-sans font-bold mb-6"},de={class:"text-2xl"},me=s("p",{class:"ml-auto text-kg text-accent"},"Por Ess\xEAncia Bahiana",-1),pe={class:"max-w-[1000px] mx-auto flex flex-col md:flex-row mb-6"},ge=["innerHTML"],_e={class:"w-full md:w-4/12"},ye={__name:"BlogPage",setup(a){const n=z(),u=f("Ess\xEAncia"),d=f("Bahiana"),m=f(`\xA9 ${new Date().getFullYear()} Essencia Bahiana. Todos os direitos reservados.`),e=f({});return E(async()=>{const{category:l,id:t}=n.params,r=q(I,"blog",t),p=await L(r);p.exists()&&(e.value={id:p.id,...p.data()},Y({title:e.value.title,titleTemplate:c=>`Ess\xEAncia BAHIANA | Blog | ${c}`,meta:{description:{name:"description",content:e.value.description},equiv:{"http-equiv":"Content-Type",content:"text/html; charset=UTF-8"},keywords:{name:"keywords",content:e.value.keywords},ogTitle:{property:"og:title",template(){return`Ess\xEAncia BAHIANA | ${e.value.title}`}},ogDescription:{property:"og:description",template(){return e.value.description}},ogImage:{property:"og:image",template(){return`https://essenciabahiana.com.br/${e.value.imageURL}`}},twitterTitle:{property:"twitter:title",template(){return`Ess\xEAncia BAHIANA | ${e.value.title}`}},twitterDescription:{property:"twitter:description",template(){return e.value.description}},twitterImage:{property:"twitter:image",template(){return`https://essenciabahiana.com.br/${e.value.imageURL}`}}}}))}),(l,t)=>(_(),W(O,{class:""},{default:T(()=>[s("header",ne,[s("figure",null,[s("div",ie,[o(A,{class:"w-full max-h-[500px] object-cover",src:`/${e.value.imageURL}`,alt:e.value.title},null,8,["src","alt"])]),s("figcaption",ce,[s("h1",ue,$(e.value.title),1),s("p",de,$(e.value.excerpt),1),me]),o(B,{class:"max-w-[1000px] mx-auto mb-6"}),o(K,null,{default:T(()=>[o(y,{label:"Home",to:"/"}),o(y,{label:"Blog",to:"/blog"}),o(y,{label:"O que fazer"}),o(y,{label:e.value.title},null,8,["label"])]),_:1})])]),o(C,{dataAdSlot:"banner"}),o(B,{class:"max-w-[1000px] mx-auto mb-6"}),s("main",pe,[s("section",{innerHTML:e.value.content,class:"blog-content w-full md:w-8/12 px-6"},null,8,ge),s("aside",_e,[o(re,{id:e.value.id},null,8,["id"]),o(C,{dataAdSlot:"side"})])]),o(G,{firstTitle:u.value,secondTitle:d.value,copyRight:m.value},null,8,["firstTitle","secondTitle","copyRight"])]),_:1}))}};export{ye as default};
